

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>mynomos &#8212; djboulet github  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Bibliography" href="../bibliography/bibliography.html" />
    <link rel="prev" title="Welcome to djboulet github pages’s documentation!" href="../index.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../bibliography/bibliography.html" title="Bibliography"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Welcome to djboulet github pages’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">djboulet github  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">mynomos</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="mynomos">
<h1>mynomos<a class="headerlink" href="#mynomos" title="Permalink to this headline">¶</a></h1>
<p>These nomographs were created with the <a class="reference external" href="http://pynomo.org/wiki/index.php/Main_Page">PyNomo</a> package.  These examples help illustrate the range of problems that can be solved with nomographs.  Some of the examples below are also included in the <a class="reference external" href="https://github.com/lefakkomies/pynomo-doc">PyNomo documentation</a>.</p>
<section id="search-planner">
<h2>Search Planner<a class="headerlink" href="#search-planner" title="Permalink to this headline">¶</a></h2>
<p>Grid searches are slow and labour intensive.  Search planner will want to allocate scarce resources (searchers and time) appropriately.  Knowing the length of time required to search a parcel of land can help assign resources effeciently.</p>
<section id="nomograph">
<h3>Nomograph<a class="headerlink" href="#nomograph" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/search_planner.png" src="../_images/search_planner.png" />
</section>
<section id="source-code">
<h3>Source code<a class="headerlink" href="#source-code" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  2</span><span class="sd">search_planner.py</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="sd">Nomogram to calculate search effort for ground search activities.</span>
<span class="linenos">  5</span><span class="sd">along with this program.  If not, see &lt; http: // www.gnu.org/licenses/&gt;.</span>
<span class="linenos">  6</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  7</span><span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="kn">import</span> <span class="n">Nomographer</span>
<span class="linenos">  8</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos">  9</span><span class="n">outputfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="kn">from</span> <span class="nn">pyx</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 12</span><span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">LatexEngine</span><span class="p">)</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="n">searchers</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 15</span>    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="s1">&#39;searchers&#39;</span><span class="p">,</span>
<span class="linenos"> 16</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span>
<span class="linenos"> 17</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">8.0</span><span class="p">,</span>
<span class="linenos"> 18</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 19</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear&#39;</span><span class="p">,</span>
<span class="linenos"> 20</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Number of searchers&#39;</span><span class="p">,</span>
<span class="linenos"> 21</span>    <span class="s1">&#39;title_distance_center&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.25</span><span class="p">,</span>
<span class="linenos"> 22</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 23</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 24</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
<span class="linenos"> 25</span>    <span class="s1">&#39;grid_length_0&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 26</span>    <span class="s1">&#39;text_distance_0&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span>
<span class="linenos"> 27</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 28</span>    <span class="c1"># &#39;title_opposite_tick&#39;: False,</span>
<span class="linenos"> 29</span>    <span class="c1"># &#39;text_horizontal_align&#39;: True,</span>
<span class="linenos"> 30</span>    <span class="s1">&#39;extra_angle&#39;</span><span class="p">:</span> <span class="mf">90.0</span>
<span class="linenos"> 31</span>
<span class="linenos"> 32</span><span class="p">}</span>
<span class="linenos"> 33</span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span><span class="n">hectares</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 36</span>    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="s1">&#39;hectares&#39;</span><span class="p">,</span>
<span class="linenos"> 37</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos"> 38</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
<span class="linenos"> 39</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">*</span><span class="mf">10000.0</span><span class="p">,</span>
<span class="linenos"> 40</span>    <span class="c1"># &#39;title&#39;: r&#39;Search area ($Ha$)&#39;,</span>
<span class="linenos"> 41</span>    <span class="s1">&#39;extra_titles&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 42</span>        <span class="p">{</span>
<span class="linenos"> 43</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Search \par area ($Ha$)&#39;</span><span class="p">,</span>
<span class="linenos"> 44</span>            <span class="s1">&#39;dx&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span>
<span class="linenos"> 45</span>            <span class="s1">&#39;dy&#39;</span><span class="p">:</span> <span class="mf">0.7</span>
<span class="linenos"> 46</span>        <span class="p">}</span>
<span class="linenos"> 47</span>    <span class="p">],</span>
<span class="linenos"> 48</span>
<span class="linenos"> 49</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 50</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 51</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
<span class="linenos"> 52</span>    <span class="s1">&#39;grid_length_0&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 53</span>    <span class="s1">&#39;grid_length_1&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
<span class="linenos"> 54</span>    <span class="s1">&#39;text_distance_0&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>
<span class="linenos"> 55</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span>
<span class="linenos"> 56</span><span class="p">}</span>
<span class="linenos"> 57</span>
<span class="linenos"> 58</span><span class="n">distance1</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 59</span>    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="s1">&#39;distance1&#39;</span><span class="p">,</span>
<span class="linenos"> 60</span>    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span>
<span class="linenos"> 61</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos"> 62</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 63</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
<span class="linenos"> 64</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 65</span>    <span class="s1">&#39;align_function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 66</span>    <span class="s1">&#39;extra_titles&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 67</span>        <span class="p">{</span>
<span class="linenos"> 68</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Distance \par ($km$)&#39;</span><span class="p">,</span>
<span class="linenos"> 69</span>            <span class="s1">&#39;dx&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 70</span>            <span class="s1">&#39;dy&#39;</span><span class="p">:</span> <span class="mf">0.65</span>
<span class="linenos"> 71</span>        <span class="p">}</span>
<span class="linenos"> 72</span>    <span class="p">],</span>
<span class="linenos"> 73</span>    <span class="s1">&#39;grid_length_0&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 74</span>    <span class="s1">&#39;grid_length_1&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
<span class="linenos"> 75</span>    <span class="s1">&#39;text_distance_0&#39;</span><span class="p">:</span> <span class="mf">0.65</span><span class="p">,</span>
<span class="linenos"> 76</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 77</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 78</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span>
<span class="linenos"> 79</span><span class="p">}</span>
<span class="linenos"> 80</span>
<span class="linenos"> 81</span><span class="n">spacing</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 82</span>    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="s1">&#39;spacing&#39;</span><span class="p">,</span>
<span class="linenos"> 83</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="linenos"> 84</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">15.0</span><span class="p">,</span>
<span class="linenos"> 85</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 86</span>    <span class="c1"># &#39;scale_type&#39;: &#39;manual point&#39;,</span>
<span class="linenos"> 87</span>    <span class="c1"># &#39;manual_axis_data&#39;: {2.5: &#39;2.5&#39;, 5.0: &#39;5.0&#39;, 10: &#39;10&#39;, 15: &#39;15&#39;},</span>
<span class="linenos"> 88</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Searcher spacing ($m$)&#39;</span><span class="p">,</span>
<span class="linenos"> 89</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 90</span>    <span class="s1">&#39;title_opposite_tick&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="linenos"> 91</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 92</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 93</span>    <span class="s1">&#39;grid_length_0&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 94</span>    <span class="s1">&#39;grid_length_1&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="linenos"> 95</span>    <span class="s1">&#39;text_distance_0&#39;</span><span class="p">:</span> <span class="mf">.8</span><span class="p">,</span>
<span class="linenos"> 96</span>    <span class="s1">&#39;title_distance_center&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span>
<span class="linenos"> 97</span>    <span class="s1">&#39;text_horizontal_align&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 98</span>    <span class="s1">&#39;extra_angle&#39;</span><span class="p">:</span> <span class="mf">90.0</span><span class="p">,</span>
<span class="linenos"> 99</span>    <span class="s1">&#39;turn_relative&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">100</span>
<span class="linenos">101</span>    <span class="c1"># &#39;extra_params&#39;: [</span>
<span class="linenos">102</span>    <span class="c1">#     {</span>
<span class="linenos">103</span>    <span class="c1">#         &#39;u_min&#39;: 2.5,</span>
<span class="linenos">104</span>    <span class="c1">#         &#39;u_max&#39;: 15.0,</span>
<span class="linenos">105</span>    <span class="c1">#         &#39;scale_type&#39;: &#39;linear&#39;,</span>
<span class="linenos">106</span>    <span class="c1">#         &#39;tick_levels&#39;: 3,</span>
<span class="linenos">107</span>    <span class="c1">#         &#39;tick_text_levels&#39;: 1,</span>
<span class="linenos">108</span>    <span class="c1">#         &#39;tick_side&#39;: &#39;right&#39;,</span>
<span class="linenos">109</span>    <span class="c1">#     }</span>
<span class="linenos">110</span>    <span class="c1"># ]</span>
<span class="linenos">111</span><span class="p">}</span>
<span class="linenos">112</span>
<span class="linenos">113</span><span class="n">area_block</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">114</span>    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="s1">&#39;area_block&#39;</span><span class="p">,</span>
<span class="linenos">115</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_4&#39;</span><span class="p">,</span>
<span class="linenos">116</span>    <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
<span class="linenos">117</span>    <span class="s1">&#39;width&#39;</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span>
<span class="linenos">118</span>    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">hectares</span><span class="p">,</span>
<span class="linenos">119</span>    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">distance1</span><span class="p">,</span>
<span class="linenos">120</span>    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">spacing</span><span class="p">,</span>
<span class="linenos">121</span>    <span class="s1">&#39;f4_params&#39;</span><span class="p">:</span> <span class="n">searchers</span><span class="p">,</span>
<span class="linenos">122</span>    <span class="s1">&#39;reference_color&#39;</span><span class="p">:</span> <span class="n">color</span><span class="o">.</span><span class="n">cmyk</span><span class="o">.</span><span class="n">Gray</span><span class="p">,</span>
<span class="linenos">123</span>    <span class="s1">&#39;padding&#39;</span><span class="p">:</span> <span class="mf">.9</span><span class="p">,</span>
<span class="linenos">124</span>    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">7.5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span>
<span class="linenos">125</span><span class="p">}</span>
<span class="linenos">126</span>
<span class="linenos">127</span><span class="n">distance2</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">128</span>    <span class="c1"># distance in meters (u3)</span>
<span class="linenos">129</span>    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="s1">&#39;distance2&#39;</span><span class="p">,</span>
<span class="linenos">130</span>    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span>
<span class="linenos">131</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">132</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
<span class="linenos">133</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;manual_point&#39;</span><span class="p">,</span>
<span class="linenos">134</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">*</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos">135</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos">136</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos">137</span>    <span class="c1"># &#39;title_x_shift&#39;: 1.0,</span>
<span class="linenos">138</span><span class="p">}</span>
<span class="linenos">139</span>
<span class="linenos">140</span><span class="n">speed_km_h</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">141</span>    <span class="c1"># speed in km/hr</span>
<span class="linenos">142</span>    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="s1">&#39;speed_in_km_per_hr&#39;</span><span class="p">,</span>
<span class="linenos">143</span>    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;speed&#39;</span><span class="p">,</span>
<span class="linenos">144</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">145</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
<span class="linenos">146</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">*</span><span class="mi">1000</span><span class="o">/</span><span class="mi">3600</span><span class="p">,</span>
<span class="linenos">147</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Speed ($\frac</span><span class="si">{km}{hr}</span><span class="s1">$)&#39;</span><span class="p">,</span>
<span class="linenos">148</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">149</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos">150</span>    <span class="s1">&#39;title_x_shift&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos">151</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">152</span>    <span class="s1">&#39;title_distance_center&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.4</span><span class="p">,</span>
<span class="linenos">153</span>    <span class="s1">&#39;grid_length_0&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">154</span>    <span class="s1">&#39;grid_length_1&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
<span class="linenos">155</span>    <span class="s1">&#39;text_distance_0&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>
<span class="linenos">156</span>    <span class="s1">&#39;text_distance_1&#39;</span><span class="p">:</span><span class="mf">0.35</span>
<span class="linenos">157</span>
<span class="linenos">158</span><span class="p">}</span>
<span class="linenos">159</span>
<span class="linenos">160</span>
<span class="linenos">161</span><span class="n">time_required</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">162</span>    <span class="c1"># time in minutes</span>
<span class="linenos">163</span>    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="s1">&#39;time_required&#39;</span><span class="p">,</span>
<span class="linenos">164</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">15.0</span><span class="p">,</span>
<span class="linenos">165</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">120.0</span><span class="p">,</span>
<span class="linenos">166</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">*</span><span class="mi">60</span><span class="p">,</span>
<span class="linenos">167</span>    <span class="c1"># &#39;title&#39;: r&#39;Time required ($min$)&#39;,</span>
<span class="linenos">168</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">169</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos">170</span>    <span class="s1">&#39;title_x_shift&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">171</span>    <span class="s1">&#39;extra_titles&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">172</span>        <span class="p">{</span>
<span class="linenos">173</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Time \par required \par ($min$)&#39;</span><span class="p">,</span>
<span class="linenos">174</span>            <span class="s1">&#39;dx&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">175</span>            <span class="s1">&#39;dy&#39;</span><span class="p">:</span> <span class="mf">1.2</span>
<span class="linenos">176</span>        <span class="p">}</span>
<span class="linenos">177</span>    <span class="p">],</span>
<span class="linenos">178</span>
<span class="linenos">179</span><span class="p">}</span>
<span class="linenos">180</span>
<span class="linenos">181</span><span class="n">distance_speed_time_block</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">182</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
<span class="linenos">183</span>    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">distance2</span><span class="p">,</span>
<span class="linenos">184</span>    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">speed_km_h</span><span class="p">,</span>
<span class="linenos">185</span>    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">time_required</span><span class="p">,</span>
<span class="linenos">186</span>    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">3.0</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">90</span><span class="p">]],</span>
<span class="linenos">187</span>    <span class="s1">&#39;mirror_x&#39;</span><span class="p">:</span> <span class="kc">True</span>
<span class="linenos">188</span><span class="p">}</span>
<span class="linenos">189</span>
<span class="linenos">190</span><span class="n">speed_min_100meter</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">191</span>    <span class="c1"># speed in minutes / 100 meters</span>
<span class="linenos">192</span>    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="s1">&#39;speed_sec_meter&#39;</span><span class="p">,</span>
<span class="linenos">193</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">0.72</span><span class="o">*</span><span class="mi">100</span><span class="o">/</span><span class="mi">60</span><span class="p">,</span>
<span class="linenos">194</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">3.6</span><span class="o">*</span><span class="mi">100</span><span class="o">/</span><span class="mi">60</span><span class="p">,</span>
<span class="linenos">195</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">/</span><span class="mi">100</span><span class="o">*</span><span class="mi">60</span><span class="p">,</span>
<span class="linenos">196</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Pace ($\frac</span><span class="si">{min}</span><span class="s1">{100\cdot m}$)&#39;</span><span class="p">,</span>
<span class="linenos">197</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">198</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos">199</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">200</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos">201</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
<span class="linenos">202</span>    <span class="s1">&#39;title_distance_center&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.6</span><span class="p">,</span>
<span class="linenos">203</span>    <span class="s1">&#39;grid_length_0&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">204</span>    <span class="s1">&#39;grid_length_1&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
<span class="linenos">205</span>    <span class="s1">&#39;text_distance_0&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>
<span class="linenos">206</span>    <span class="s1">&#39;text_distance_1&#39;</span><span class="p">:</span> <span class="mf">0.35</span>
<span class="linenos">207</span>
<span class="linenos">208</span><span class="p">}</span>
<span class="linenos">209</span>
<span class="linenos">210</span>
<span class="linenos">211</span><span class="n">distance_speed_time_block2</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">212</span>    <span class="s1">&#39;ID&#39;</span><span class="p">:</span> <span class="s1">&#39;distance_speed_time_block2&#39;</span><span class="p">,</span>
<span class="linenos">213</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
<span class="linenos">214</span>    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">time_required</span><span class="p">,</span>
<span class="linenos">215</span>    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">speed_min_100meter</span><span class="p">,</span>
<span class="linenos">216</span>    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">distance2</span><span class="p">,</span>
<span class="linenos">217</span>    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">90</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]],</span>
<span class="linenos">218</span>    <span class="s1">&#39;width&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
<span class="linenos">219</span>    <span class="s1">&#39;mirror_x&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">220</span>
<span class="linenos">221</span><span class="p">}</span>
<span class="linenos">222</span>
<span class="linenos">223</span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">224</span>    <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="n">outputfile</span><span class="p">,</span>
<span class="linenos">225</span>    <span class="s1">&#39;paper_height&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
<span class="linenos">226</span>    <span class="s1">&#39;paper_width&#39;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
<span class="linenos">227</span>    <span class="s1">&#39;block_params&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">area_block</span><span class="p">,</span> <span class="n">distance_speed_time_block</span><span class="p">,</span> <span class="n">distance_speed_time_block2</span><span class="p">],</span>
<span class="linenos">228</span>    <span class="s1">&#39;transformations&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;scale paper&#39;</span><span class="p">,),</span>  <span class="p">],</span>
<span class="linenos">229</span>    <span class="s1">&#39;title_str&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\Large \textbf{Grid search time and resource calculator}&#39;</span><span class="p">,</span>
<span class="linenos">230</span>    <span class="s1">&#39;title_y&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">231</span>    <span class="s1">&#39;title_x&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
<span class="linenos">232</span>    <span class="c1"># &#39;make_grid&#39;: True,</span>
<span class="linenos">233</span>    <span class="c1"># &#39;debug&#39;: True,</span>
<span class="linenos">234</span>    <span class="s1">&#39;isopleth_params&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">235</span>        <span class="c1"># {&#39;color&#39;: &#39;black&#39;,</span>
<span class="linenos">236</span>        <span class="c1">#  &#39;linewidth&#39;: &#39;thin&#39;,</span>
<span class="linenos">237</span>        <span class="c1">#  &#39;linestyle&#39;: &#39;solid&#39;,</span>
<span class="linenos">238</span>        <span class="c1">#  &#39;circle_size&#39;: 0.08,</span>
<span class="linenos">239</span>        <span class="c1">#  &#39;transparency&#39;: 0.0,</span>
<span class="linenos">240</span>        <span class="c1">#  },</span>
<span class="linenos">241</span>        <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span>
<span class="linenos">242</span>         <span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="s1">&#39;thin&#39;</span><span class="p">,</span>
<span class="linenos">243</span>         <span class="s1">&#39;linestyle&#39;</span><span class="p">:</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span>
<span class="linenos">244</span>         <span class="s1">&#39;circle_size&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
<span class="linenos">245</span>         <span class="s1">&#39;transparency&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span>
<span class="linenos">246</span>         <span class="p">},</span>
<span class="linenos">247</span>    <span class="p">],</span>
<span class="linenos">248</span>    <span class="s1">&#39;extra_texts&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">249</span>        <span class="p">{</span>
<span class="linenos">250</span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">9.0</span><span class="p">,</span>
<span class="linenos">251</span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos">252</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\small \noindent Example shown: \par \noindent Six searchers spaced 7.5 meters apart </span><span class="se">\</span>
<span class="linenos">253</span><span class="s1">                need to walk 3 kilometers to search an area of 13.5 hectares. If the team travels at </span><span class="se">\</span>
<span class="linenos">254</span><span class="s1">                2 kilometers per hour (or covers 100 meters every 3 minutes) they will need 90 minutes to </span><span class="se">\</span>
<span class="linenos">255</span><span class="s1">                cover the assigned area.&#39;</span><span class="p">,</span>
<span class="linenos">256</span>            <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
<span class="linenos">257</span>        <span class="p">},</span>
<span class="linenos">258</span>        <span class="p">{</span>
<span class="linenos">259</span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">14.2</span><span class="p">,</span>
<span class="linenos">260</span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">,</span>
<span class="linenos">261</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\tiny \copyright Daniel Boulet  2020&#39;</span><span class="p">,</span>
<span class="linenos">262</span>            <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
<span class="linenos">263</span>        <span class="p">},</span>
<span class="linenos">264</span>        <span class="p">{</span>
<span class="linenos">265</span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">266</span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">7.0</span><span class="p">,</span>
<span class="linenos">267</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$\frac</span><span class="si">{Area}{Distance}</span><span class="s1">=Searchers \times Spacing$&#39;</span><span class="p">,</span>
<span class="linenos">268</span>            <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">269</span>
<span class="linenos">270</span>        <span class="p">},</span>
<span class="linenos">271</span>
<span class="linenos">272</span>    <span class="p">],</span>
<span class="linenos">273</span>
<span class="linenos">274</span>
<span class="linenos">275</span><span class="p">}</span>
<span class="linenos">276</span>
<span class="linenos">277</span>
<span class="linenos">278</span><span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="z-score-calculator">
<h2>Z score calculator<a class="headerlink" href="#z-score-calculator" title="Permalink to this headline">¶</a></h2>
<section id="theory-and-background">
<h3>Theory and background<a class="headerlink" href="#theory-and-background" title="Permalink to this headline">¶</a></h3>
<p>This example extends Pynomo’s versatility by using external libraries.
Python’s <code class="code docutils literal notranslate"><span class="pre">scipy</span></code> library is the engine behind this nomograph
which calculates the area under a normal distribution curve between
two Z scores (one negative, the other positive).</p>
<p>To calculate the area between two Z scores (<span class="math notranslate nohighlight">\(Z_{upper}\)</span>,
<span class="math notranslate nohighlight">\(Z_{lower}\)</span>) of a normal distribution one must compute the
difference between the respective probability density functions
<span class="math notranslate nohighlight">\(\mathrm{PDF}(Z_{upper})\)</span> and <span class="math notranslate nohighlight">\(\mathrm{PDF}(Z_{lower})\)</span>. <span id="id1">[<a class="reference internal" href="../bibliography/bibliography.html#id24" title="English: The re-drawn chart comparing the various grading methods in a normal distribution. Includes: Standard deviations, cumulative percentages, percentile equivalents, Z-scores and T-scores. Inspired by Figure 4.3 on Page 74 of Ward, A. W., Murray-Ward, M. (1999). Assessment in the Classroom. Belmont, CA: Wadsworth. ISBN 0534527043. July 2007. URL: https://commons.wikimedia.org/wiki/File:The_Normal_Distribution.svg (visited on 2021-12-31).">wik07</a>]</span></p>
<img alt="../_images/The_Normal_Distribution.png" src="../_images/The_Normal_Distribution.png" />
<p>Recall that the functional relationship for a <strong>Type 1</strong> block is:</p>
<p><span class="math notranslate nohighlight">\(F1(u_1)+F2(u_2)+F3(u_3)=0\)</span></p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(\mathrm{Area} = \mathrm{PDF}(Z_{upper}) - \mathrm{PDF}(Z_{lower})\)</span></p>
<p>therefore</p>
<p><span class="math notranslate nohighlight">\(\mathrm{PDF}(Z_{upper})  - Area  - \mathrm{PDF}(Z_{lower})=0\)</span>.</p>
<p>Two <strong>Type 8</strong> axes are aligned with <span class="math notranslate nohighlight">\(\mathrm{PDF}(Z_{upper})\)</span> and
<span class="math notranslate nohighlight">\(\mathrm{PDF}(Z_{lower})\)</span> to align a Z score with its associated PDF.</p>
</section>
<section id="id2">
<h3>Nomograph<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/zscore.png" src="../_images/zscore.png" />
</section>
<section id="id3">
<h3>Source code<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  2</span><span class="sd">    zscore.py</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="sd">    Nomograph to calculate area under normal curve from z-score.</span>
<span class="linenos">  5</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>
<span class="linenos">  8</span><span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos">  9</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos"> 10</span><span class="n">outputfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span>
<span class="linenos"> 11</span>
<span class="linenos"> 12</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="linenos"> 13</span><span class="c1"># allows use of latex commands in PyX such as \frac{a}{b} and \par</span>
<span class="linenos"> 14</span><span class="kn">from</span> <span class="nn">pyx</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="n">pyx</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">LatexEngine</span><span class="p">)</span>
<span class="linenos"> 17</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span><span class="k">def</span> <span class="nf">cdf</span><span class="p">(</span><span class="n">u</span><span class="p">):</span>
<span class="linenos"> 20</span>    <span class="k">return</span> <span class="n">stats</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
<span class="linenos"> 21</span>
<span class="linenos"> 22</span>
<span class="linenos"> 23</span><span class="k">def</span> <span class="nf">ppf</span><span class="p">(</span><span class="n">u</span><span class="p">):</span>
<span class="linenos"> 24</span>    <span class="k">return</span> <span class="n">stats</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span><span class="n">lmin</span> <span class="o">=</span> <span class="mf">0.0001</span>
<span class="linenos"> 28</span><span class="n">lmax</span> <span class="o">=</span> <span class="mf">0.9999</span>
<span class="linenos"> 29</span>
<span class="linenos"> 30</span><span class="n">sd1</span> <span class="o">=</span> <span class="n">cdf</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span> <span class="o">-</span> <span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
<span class="linenos"> 31</span><span class="n">sd2</span> <span class="o">=</span> <span class="n">cdf</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span> <span class="o">-</span> <span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">)</span>
<span class="linenos"> 32</span><span class="n">sd3</span> <span class="o">=</span> <span class="n">cdf</span><span class="p">(</span><span class="mf">3.0</span><span class="p">)</span> <span class="o">-</span> <span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">3.0</span><span class="p">)</span>
<span class="linenos"> 33</span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span><span class="n">leftpdf</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 36</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span>
<span class="linenos"> 37</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="n">lmin</span><span class="p">,</span>
<span class="linenos"> 38</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 39</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 40</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual point&quot;</span><span class="p">,</span>
<span class="linenos"> 41</span>    <span class="c1"># extra parameters</span>
<span class="linenos"> 42</span>    <span class="s2">&quot;extra_params&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 43</span>        <span class="p">{</span>
<span class="linenos"> 44</span>            <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual arrow&quot;</span><span class="p">,</span>
<span class="linenos"> 45</span>            <span class="s2">&quot;manual_axis_data&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos"> 46</span>                <span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">):</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%4.4f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">),</span>
<span class="linenos"> 47</span>                <span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">):</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%4.4f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">),</span>
<span class="linenos"> 48</span>                <span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">3.0</span><span class="p">):</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%4.4f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">3.0</span><span class="p">),</span>
<span class="linenos"> 49</span>                <span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">1.25</span><span class="p">):</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%4.4f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">1.25</span><span class="p">),</span>
<span class="linenos"> 50</span>            <span class="p">},</span>
<span class="linenos"> 51</span>            <span class="s2">&quot;arrow_length&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="linenos"> 52</span>        <span class="p">},</span>
<span class="linenos"> 53</span>    <span class="p">],</span>
<span class="linenos"> 54</span><span class="p">}</span>
<span class="linenos"> 55</span>
<span class="linenos"> 56</span>
<span class="linenos"> 57</span><span class="n">leftz</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 58</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span>
<span class="linenos"> 59</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="n">ppf</span><span class="p">(</span><span class="n">lmin</span><span class="p">),</span>
<span class="linenos"> 60</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="n">ppf</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
<span class="linenos"> 61</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">cdf</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 62</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">cdf</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 63</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Lower tail $X_1$&quot;</span><span class="p">,</span>
<span class="linenos"> 64</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 65</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 66</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos"> 67</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos"> 68</span><span class="p">}</span>
<span class="linenos"> 69</span>
<span class="linenos"> 70</span>
<span class="linenos"> 71</span><span class="n">rightpdf</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 72</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span>
<span class="linenos"> 73</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 74</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="n">lmax</span><span class="p">,</span>
<span class="linenos"> 75</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 76</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual point&quot;</span><span class="p">,</span>
<span class="linenos"> 77</span>    <span class="c1"># extra parameters</span>
<span class="linenos"> 78</span>    <span class="s2">&quot;extra_params&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 79</span>        <span class="p">{</span>
<span class="linenos"> 80</span>            <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual arrow&quot;</span><span class="p">,</span>
<span class="linenos"> 81</span>            <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos"> 82</span>            <span class="s2">&quot;manual_axis_data&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos"> 83</span>                <span class="n">cdf</span><span class="p">(</span><span class="mf">3.0</span><span class="p">):</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%4.4f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">cdf</span><span class="p">(</span><span class="mf">3.0</span><span class="p">),</span>
<span class="linenos"> 84</span>                <span class="n">cdf</span><span class="p">(</span><span class="mf">2.0</span><span class="p">):</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%4.4f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">cdf</span><span class="p">(</span><span class="mf">2.0</span><span class="p">),</span>
<span class="linenos"> 85</span>                <span class="n">cdf</span><span class="p">(</span><span class="mf">1.0</span><span class="p">):</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%4.4f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">cdf</span><span class="p">(</span><span class="mf">1.0</span><span class="p">),</span>
<span class="linenos"> 86</span>                <span class="n">cdf</span><span class="p">(</span><span class="mf">0.25</span><span class="p">):</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%4.4f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">cdf</span><span class="p">(</span><span class="mf">0.25</span><span class="p">),</span>
<span class="linenos"> 87</span>            <span class="p">},</span>
<span class="linenos"> 88</span>            <span class="s2">&quot;arrow_length&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="linenos"> 89</span>        <span class="p">},</span>
<span class="linenos"> 90</span>    <span class="p">],</span>
<span class="linenos"> 91</span><span class="p">}</span>
<span class="linenos"> 92</span>
<span class="linenos"> 93</span>
<span class="linenos"> 94</span><span class="n">rightz</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 95</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span>
<span class="linenos"> 96</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="n">ppf</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
<span class="linenos"> 97</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="n">ppf</span><span class="p">(</span><span class="n">lmax</span><span class="p">),</span>
<span class="linenos"> 98</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">cdf</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 99</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">cdf</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos">100</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Upper tail $X_2$&quot;</span><span class="p">,</span>
<span class="linenos">101</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos">102</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">103</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">104</span><span class="p">}</span>
<span class="linenos">105</span>
<span class="linenos">106</span><span class="n">leftblock2</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_8&quot;</span><span class="p">,</span> <span class="s2">&quot;f_params&quot;</span><span class="p">:</span> <span class="n">leftz</span><span class="p">,</span> <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;x&quot;</span><span class="p">]]}</span>
<span class="linenos">107</span>
<span class="linenos">108</span>
<span class="linenos">109</span><span class="n">rightblock2</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_8&quot;</span><span class="p">,</span> <span class="s2">&quot;f_params&quot;</span><span class="p">:</span> <span class="n">rightz</span><span class="p">,</span> <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;x&quot;</span><span class="p">]]}</span>
<span class="linenos">110</span>
<span class="linenos">111</span>
<span class="linenos">112</span><span class="n">delta</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">113</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos">114</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">115</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">116</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">117</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Area&quot;</span><span class="p">,</span>
<span class="linenos">118</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos">119</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">120</span>    <span class="s2">&quot;extra_params&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">121</span>        <span class="p">{</span>
<span class="linenos">122</span>            <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos">123</span>            <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual arrow&quot;</span><span class="p">,</span>
<span class="linenos">124</span>            <span class="s2">&quot;manual_axis_data&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">125</span>                <span class="n">sd1</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$\pm 1 \sigma$ </span><span class="si">%4.4f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">sd1</span><span class="p">,</span>
<span class="linenos">126</span>                <span class="n">sd2</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$\pm 2 \sigma$ </span><span class="si">%4.4f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">sd2</span><span class="p">,</span>
<span class="linenos">127</span>                <span class="n">sd3</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$\pm 3 \sigma$ </span><span class="si">%4.4f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">sd3</span><span class="p">,</span>
<span class="linenos">128</span>            <span class="p">},</span>
<span class="linenos">129</span>            <span class="s2">&quot;arrow_length&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="linenos">130</span>        <span class="p">},</span>
<span class="linenos">131</span>    <span class="p">],</span>
<span class="linenos">132</span><span class="p">}</span>
<span class="linenos">133</span>
<span class="linenos">134</span><span class="n">block_diff</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">135</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_1&quot;</span><span class="p">,</span>
<span class="linenos">136</span>    <span class="s2">&quot;f1_params&quot;</span><span class="p">:</span> <span class="n">leftpdf</span><span class="p">,</span>
<span class="linenos">137</span>    <span class="s2">&quot;f2_params&quot;</span><span class="p">:</span> <span class="n">delta</span><span class="p">,</span>
<span class="linenos">138</span>    <span class="s2">&quot;f3_params&quot;</span><span class="p">:</span> <span class="n">rightpdf</span><span class="p">,</span>
<span class="linenos">139</span>    <span class="s2">&quot;proportion&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos">140</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">1.25</span><span class="p">),</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">cdf</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)]],</span>
<span class="linenos">141</span><span class="p">}</span>
<span class="linenos">142</span>
<span class="linenos">143</span>
<span class="linenos">144</span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">145</span>    <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">outputfile</span><span class="p">,</span>
<span class="linenos">146</span>    <span class="s2">&quot;paper_height&quot;</span><span class="p">:</span> <span class="mf">11.0</span> <span class="o">*</span> <span class="mf">2.54</span><span class="p">,</span>
<span class="linenos">147</span>    <span class="s2">&quot;paper_width&quot;</span><span class="p">:</span> <span class="mf">8.5</span> <span class="o">*</span> <span class="mf">2.54</span><span class="p">,</span>
<span class="linenos">148</span>    <span class="s2">&quot;block_params&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">block_diff</span><span class="p">,</span> <span class="n">leftblock2</span><span class="p">,</span> <span class="n">rightblock2</span><span class="p">],</span>
<span class="linenos">149</span>    <span class="s2">&quot;cdfations&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;rotate&quot;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;scale paper&quot;</span><span class="p">,),</span> <span class="p">(</span><span class="s2">&quot;polygon&quot;</span><span class="p">,)],</span>
<span class="linenos">150</span>    <span class="s2">&quot;title_x&quot;</span><span class="p">:</span> <span class="mf">11.0</span><span class="p">,</span>
<span class="linenos">151</span>    <span class="s2">&quot;title_y&quot;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span>
<span class="linenos">152</span>    <span class="s2">&quot;title_box_width&quot;</span><span class="p">:</span> <span class="mf">15.0</span><span class="p">,</span>
<span class="linenos">153</span>    <span class="s2">&quot;title_str&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\Huge Z Score Nomograph \par \medskip \large ($\mu = 0$, $\sigma = 1$) \par \medskip  \small \copyright Daniel Boulet  2021&quot;</span><span class="p">,</span>
<span class="linenos">154</span>    <span class="c1"># &#39;make_grid&#39;:True,</span>
<span class="linenos">155</span>    <span class="s2">&quot;extra_texts&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">156</span>        <span class="p">{</span>
<span class="linenos">157</span>            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span>
<span class="linenos">158</span>            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">16.0</span><span class="p">,</span>
<span class="linenos">159</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\noindent Area under normal curve between lower tail $X_1$ and upper tail $X_2$ is read on center axis. </span><span class="se">\</span>
<span class="linenos">160</span><span class="s2">                For example, area under normal distribution curve from $</span><span class="si">%g</span><span class="s2"> \sigma$ to $</span><span class="si">%g</span><span class="s2"> \sigma$ is $</span><span class="si">%4.4f</span><span class="s2">$.&quot;</span>
<span class="linenos">161</span>            <span class="o">%</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="n">cdf</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span> <span class="o">-</span> <span class="n">cdf</span><span class="p">(</span><span class="o">-</span><span class="mf">1.25</span><span class="p">)),</span>
<span class="linenos">162</span>            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mf">8.0</span><span class="p">,</span>
<span class="linenos">163</span>        <span class="p">},</span>
<span class="linenos">164</span>    <span class="p">],</span>
<span class="linenos">165</span><span class="p">}</span>
<span class="linenos">166</span>
<span class="linenos">167</span><span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="vps-generator-performance">
<h2>VPS Generator Performance<a class="headerlink" href="#vps-generator-performance" title="Permalink to this headline">¶</a></h2>
<p>This nomograph estimates power generation based on fuel consumption of a <a class="reference external" href="https://www.vericor.com/wp-content/uploads/2020/02/VPS-Series-Stationary.pdf">Vericor VPS4 Genset</a>.</p>
<section id="id4">
<h3>Nomograph<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/vps4performance.png" src="../_images/vps4performance.png" />
</section>
<section id="id5">
<h3>Source code<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  2</span><span class="sd">    vps4performance.py</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="sd">    Gas turbine performance nomograph based on Vericor VPS4 genset.</span>
<span class="linenos">  5</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  6</span><span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos">  7</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos">  8</span>
<span class="linenos">  9</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="linenos"> 10</span><span class="n">outputfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.pdf&quot;</span>
<span class="linenos"> 11</span>
<span class="linenos"> 12</span><span class="c1"># allows use of latex commands in PyX such as \frac{a}{b} and \par</span>
<span class="linenos"> 13</span><span class="kn">from</span> <span class="nn">pyx</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">LatexEngine</span><span class="p">)</span>
<span class="linenos"> 16</span>
<span class="linenos"> 17</span>
<span class="linenos"> 18</span><span class="k">def</span> <span class="nf">watts2btu_hr</span><span class="p">(</span><span class="n">watts</span><span class="p">):</span>
<span class="linenos"> 19</span>    <span class="k">return</span> <span class="n">watts</span> <span class="o">*</span> <span class="mf">3.412141633</span>
<span class="linenos"> 20</span>
<span class="linenos"> 21</span>
<span class="linenos"> 22</span><span class="k">def</span> <span class="nf">btu_hr2watts</span><span class="p">(</span><span class="n">btu_hr</span><span class="p">):</span>
<span class="linenos"> 23</span>    <span class="k">return</span> <span class="n">btu_hr</span> <span class="o">/</span> <span class="mf">3.412141633</span>
<span class="linenos"> 24</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span><span class="k">def</span> <span class="nf">btu2joule</span><span class="p">(</span><span class="n">btu</span><span class="p">):</span>
<span class="linenos"> 27</span>    <span class="k">return</span> <span class="n">btu</span> <span class="o">*</span> <span class="mf">1055.06</span>
<span class="linenos"> 28</span>
<span class="linenos"> 29</span>
<span class="linenos"> 30</span><span class="k">def</span> <span class="nf">joule2btu</span><span class="p">(</span><span class="n">joule</span><span class="p">):</span>
<span class="linenos"> 31</span>    <span class="k">return</span> <span class="n">joule</span> <span class="o">/</span> <span class="mf">1055.06</span>
<span class="linenos"> 32</span>
<span class="linenos"> 33</span>
<span class="linenos"> 34</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 35</span><span class="sd">this part is the left handside of the total graph</span>
<span class="linenos"> 36</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 37</span>
<span class="linenos"> 38</span><span class="n">leftside_u1_left</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 39</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;left_1&quot;</span><span class="p">,</span>
<span class="linenos"> 40</span>    <span class="c1"># range of values (nominal 3451000.0 W )</span>
<span class="linenos"> 41</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span>
<span class="linenos"> 42</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
<span class="linenos"> 43</span>    <span class="c1"># functions</span>
<span class="linenos"> 44</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">*</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos"> 45</span>    <span class="c1"># scale type and detail</span>
<span class="linenos"> 46</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 47</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 48</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos"> 49</span>    <span class="c1"># tick and title locations</span>
<span class="linenos"> 50</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\large $MW$&quot;</span><span class="p">,</span>
<span class="linenos"> 51</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
<span class="linenos"> 52</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 53</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos"> 54</span>    <span class="c1"># extra parameters</span>
<span class="linenos"> 55</span>    <span class="s2">&quot;extra_params&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 56</span>        <span class="p">{</span>
<span class="linenos"> 57</span>            <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual arrow&quot;</span><span class="p">,</span>
<span class="linenos"> 58</span>            <span class="s2">&quot;manual_axis_data&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos"> 59</span>                <span class="mf">3.451</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;VPS4&quot;</span><span class="p">,</span>
<span class="linenos"> 60</span>            <span class="p">},</span>
<span class="linenos"> 61</span>            <span class="s2">&quot;arrow_length&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos"> 62</span>        <span class="p">},</span>
<span class="linenos"> 63</span>    <span class="p">],</span>
<span class="linenos"> 64</span>    <span class="c1"># additional title information</span>
<span class="linenos"> 65</span>    <span class="s2">&quot;extra_titles&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 66</span>        <span class="p">{</span>
<span class="linenos"> 67</span>            <span class="s2">&quot;dx&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">,</span>
<span class="linenos"> 68</span>            <span class="s2">&quot;dy&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos"> 69</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;\slshape \Large Power Output&quot;</span><span class="p">,</span>
<span class="linenos"> 70</span>            <span class="c1"># &#39;width&#39;: 5.0</span>
<span class="linenos"> 71</span>        <span class="p">},</span>
<span class="linenos"> 72</span>    <span class="p">],</span>
<span class="linenos"> 73</span><span class="p">}</span>
<span class="linenos"> 74</span>
<span class="linenos"> 75</span><span class="n">leftside_u1_right</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 76</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;left_1&quot;</span><span class="p">,</span>
<span class="linenos"> 77</span>    <span class="c1"># range of values (nominal 11778263.0 BTU/hr )</span>
<span class="linenos"> 78</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">3.0</span> <span class="o">*</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">1000000.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos"> 79</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">4.0</span> <span class="o">*</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">1000000.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos"> 80</span>    <span class="c1"># functions</span>
<span class="linenos"> 81</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">*</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos"> 82</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">/</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">1000000.0</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos"> 83</span>    <span class="c1"># scale type and detail</span>
<span class="linenos"> 84</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 85</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 86</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos"> 87</span>    <span class="c1"># tick and title locations</span>
<span class="linenos"> 88</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\large ${\frac</span><span class="si">{MBTU}{hr}</span><span class="s2">}$&quot;</span><span class="p">,</span>
<span class="linenos"> 89</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos"> 90</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 91</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span>
<span class="linenos"> 92</span><span class="p">}</span>
<span class="linenos"> 93</span>
<span class="linenos"> 94</span><span class="n">leftside_u2_left</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 95</span>    <span class="c1"># range of values (nominal 28%)</span>
<span class="linenos"> 96</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">0.25</span> <span class="o">*</span> <span class="mf">100.0</span><span class="p">,</span>
<span class="linenos"> 97</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">0.35</span> <span class="o">*</span> <span class="mf">100.0</span><span class="p">,</span>
<span class="linenos"> 98</span>    <span class="c1"># functions</span>
<span class="linenos"> 99</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,</span>
<span class="linenos">100</span>    <span class="c1"># scale type and detail</span>
<span class="linenos">101</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">102</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">103</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">104</span>    <span class="c1"># tick and title locations</span>
<span class="linenos">105</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\large $\%$&quot;</span><span class="p">,</span>
<span class="linenos">106</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">107</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">108</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos">109</span>    <span class="c1"># additional title information</span>
<span class="linenos">110</span>    <span class="s2">&quot;extra_titles&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">111</span>        <span class="p">{</span>
<span class="linenos">112</span>            <span class="s2">&quot;dx&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span>
<span class="linenos">113</span>            <span class="s2">&quot;dy&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="linenos">114</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;\slshape \Large Efficiency / \par Heat Rate&quot;</span><span class="p">,</span>
<span class="linenos">115</span>            <span class="c1"># &#39;width&#39;: 5.0</span>
<span class="linenos">116</span>        <span class="p">},</span>
<span class="linenos">117</span>    <span class="p">],</span>
<span class="linenos">118</span>    <span class="c1"># extra parameters</span>
<span class="linenos">119</span>    <span class="s2">&quot;extra_params&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">120</span>        <span class="p">{</span>
<span class="linenos">121</span>            <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual arrow&quot;</span><span class="p">,</span>
<span class="linenos">122</span>            <span class="s2">&quot;manual_axis_data&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">123</span>                <span class="mf">28.4</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;VPS4&quot;</span><span class="p">,</span>
<span class="linenos">124</span>            <span class="p">},</span>
<span class="linenos">125</span>            <span class="s2">&quot;arrow_length&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos">126</span>        <span class="p">},</span>
<span class="linenos">127</span>    <span class="p">],</span>
<span class="linenos">128</span><span class="p">}</span>
<span class="linenos">129</span>
<span class="linenos">130</span><span class="n">leftside_u2_right</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">131</span>    <span class="c1"># range of values (nomninal 12025 BTU/kWh )</span>
<span class="linenos">132</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">100000.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">35.0</span><span class="p">,</span>
<span class="linenos">133</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">100000.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">25.0</span><span class="p">,</span>
<span class="linenos">134</span>    <span class="c1"># functions</span>
<span class="linenos">135</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">1000.0</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos">136</span>    <span class="s2">&quot;text_format&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$</span><span class="si">%4.0f</span><span class="s2">$&quot;</span><span class="p">,</span>
<span class="linenos">137</span>    <span class="c1"># &#39;align_func&#39;: lambda u:341300.0/u,</span>
<span class="linenos">138</span>    <span class="c1"># scale type and detail</span>
<span class="linenos">139</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">140</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">141</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">142</span>    <span class="c1"># tick and title locations</span>
<span class="linenos">143</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\large ${\frac</span><span class="si">{BTU}</span><span class="s2">{kw \cdot hr}}$&quot;</span><span class="p">,</span>
<span class="linenos">144</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">145</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">146</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span>
<span class="linenos">147</span>    <span class="s2">&quot;title_rotate_text&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">148</span><span class="p">}</span>
<span class="linenos">149</span>
<span class="linenos">150</span><span class="n">leftside_u3_left</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">151</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;mid&quot;</span><span class="p">,</span>
<span class="linenos">152</span>    <span class="c1"># range of values (nominal 12325000.0 W )</span>
<span class="linenos">153</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">154</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">14.0</span><span class="p">,</span>
<span class="linenos">155</span>    <span class="c1"># functions</span>
<span class="linenos">156</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">*</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos">157</span>    <span class="c1"># scale type and detail</span>
<span class="linenos">158</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">159</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">160</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">161</span>    <span class="c1"># tick and title locations</span>
<span class="linenos">162</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\Large $MW$&quot;</span><span class="p">,</span>
<span class="linenos">163</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">164</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">165</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos">166</span>    <span class="c1"># additional title information</span>
<span class="linenos">167</span>    <span class="s2">&quot;extra_titles&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">168</span>        <span class="p">{</span>
<span class="linenos">169</span>            <span class="s2">&quot;dx&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.8</span><span class="p">,</span>
<span class="linenos">170</span>            <span class="s2">&quot;dy&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos">171</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;\slshape \Large Power Input&quot;</span><span class="p">,</span>
<span class="linenos">172</span>            <span class="c1"># &#39;width&#39;: 5.0</span>
<span class="linenos">173</span>        <span class="p">},</span>
<span class="linenos">174</span>    <span class="p">],</span>
<span class="linenos">175</span><span class="p">}</span>
<span class="linenos">176</span>
<span class="linenos">177</span><span class="n">leftside_u3_right</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">178</span>    <span class="c1"># range of values (nominal 42065225.0 BTU/hr )</span>
<span class="linenos">179</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">10.0</span> <span class="o">*</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">1000000.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos">180</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">14.0</span> <span class="o">*</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">1000000.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos">181</span>    <span class="c1"># functions</span>
<span class="linenos">182</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">*</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos">183</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">/</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">1000000.0</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos">184</span>    <span class="c1"># scale type and detail</span>
<span class="linenos">185</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">186</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">187</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">188</span>    <span class="c1"># tick and title locations</span>
<span class="linenos">189</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\large ${\frac</span><span class="si">{MBTU}{hr}</span><span class="s2">}$&quot;</span><span class="p">,</span>
<span class="linenos">190</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">191</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">192</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span>
<span class="linenos">193</span><span class="p">}</span>
<span class="linenos">194</span>
<span class="linenos">195</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">196</span>
<span class="linenos">197</span><span class="sd">this part is the right hand side of the total graph</span>
<span class="linenos">198</span>
<span class="linenos">199</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">200</span>
<span class="linenos">201</span><span class="n">rightside_u3_left</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">202</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;mid&quot;</span><span class="p">,</span>
<span class="linenos">203</span>    <span class="c1"># range of values (nominal 12325000.0 W )</span>
<span class="linenos">204</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">205</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">14.0</span><span class="p">,</span>
<span class="linenos">206</span>    <span class="c1"># functions</span>
<span class="linenos">207</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">*</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos">208</span>    <span class="c1"># scale type and detail</span>
<span class="linenos">209</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual point&quot;</span><span class="p">,</span>
<span class="linenos">210</span><span class="p">}</span>
<span class="linenos">211</span>
<span class="linenos">212</span><span class="n">rightside_u3_right</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">213</span>    <span class="c1"># range of values (nominal 42065225.0 BTU/hr )</span>
<span class="linenos">214</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">10.0</span> <span class="o">*</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">1000000.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos">215</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">14.0</span> <span class="o">*</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">1000000.0</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos">216</span>    <span class="c1"># functions</span>
<span class="linenos">217</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">*</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos">218</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">/</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">1000000.0</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos">219</span>    <span class="c1"># scale type and detail</span>
<span class="linenos">220</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual point&quot;</span><span class="p">,</span>
<span class="linenos">221</span><span class="p">}</span>
<span class="linenos">222</span>
<span class="linenos">223</span>
<span class="linenos">224</span><span class="n">rightside_u2_left</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">225</span>    <span class="c1"># range of values (nominal 45000000 MJ / kg )</span>
<span class="linenos">226</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">40.0</span><span class="p">,</span>
<span class="linenos">227</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">50.0</span><span class="p">,</span>
<span class="linenos">228</span>    <span class="c1"># functions</span>
<span class="linenos">229</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="p">(</span><span class="n">u</span> <span class="o">*</span> <span class="mf">1000000.0</span><span class="p">),</span>
<span class="linenos">230</span>    <span class="c1"># scale type and detail</span>
<span class="linenos">231</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">232</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">233</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">234</span>    <span class="c1"># tick and title locations</span>
<span class="linenos">235</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\large ${\frac</span><span class="si">{MJ}{kg}</span><span class="s2">}$&quot;</span><span class="p">,</span>
<span class="linenos">236</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">237</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">238</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos">239</span>    <span class="c1"># extra parameters</span>
<span class="linenos">240</span>    <span class="s2">&quot;extra_params&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">241</span>        <span class="p">{},</span>
<span class="linenos">242</span>    <span class="p">],</span>
<span class="linenos">243</span>    <span class="c1"># additional title information</span>
<span class="linenos">244</span>    <span class="s2">&quot;extra_titles&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">245</span>        <span class="p">{</span>
<span class="linenos">246</span>            <span class="s2">&quot;dx&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">3.0</span><span class="p">,</span>
<span class="linenos">247</span>            <span class="s2">&quot;dy&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos">248</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\slshape \Large Fuel lower heat value&quot;</span><span class="p">,</span>
<span class="linenos">249</span>            <span class="c1"># &#39;width&#39;: 5.0</span>
<span class="linenos">250</span>        <span class="p">},</span>
<span class="linenos">251</span>    <span class="p">],</span>
<span class="linenos">252</span><span class="p">}</span>
<span class="linenos">253</span>
<span class="linenos">254</span><span class="n">rightside_u2_right</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">255</span>    <span class="c1"># range of values (nominal 20000 BTU/lb)</span>
<span class="linenos">256</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">40000000.0</span> <span class="o">/</span> <span class="mf">2321.13</span><span class="p">,</span>
<span class="linenos">257</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">50000000.0</span> <span class="o">/</span> <span class="mf">2321.13</span><span class="p">,</span>
<span class="linenos">258</span>    <span class="c1"># functions</span>
<span class="linenos">259</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos">260</span>    <span class="c1"># &#39;align_func&#39;:lambda u: u*2326.0/1000000.0,</span>
<span class="linenos">261</span>    <span class="c1"># scale type and detail</span>
<span class="linenos">262</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">263</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">264</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">265</span>    <span class="s2">&quot;text_format&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$</span><span class="si">%4.0f</span><span class="s2">$&quot;</span><span class="p">,</span>
<span class="linenos">266</span>    <span class="c1"># tick and title locations</span>
<span class="linenos">267</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\large ${\frac</span><span class="si">{BTU}{lb}</span><span class="s2">}$&quot;</span><span class="p">,</span>
<span class="linenos">268</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">269</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">270</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span>
<span class="linenos">271</span>    <span class="c1"># extra parameters</span>
<span class="linenos">272</span>    <span class="s2">&quot;extra_params&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">273</span>        <span class="p">{</span>
<span class="linenos">274</span>            <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual arrow&quot;</span><span class="p">,</span>
<span class="linenos">275</span>            <span class="s2">&quot;manual_axis_data&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">276</span>                <span class="mf">20548.0</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;VPS4&quot;</span><span class="p">,</span>
<span class="linenos">277</span>            <span class="p">},</span>
<span class="linenos">278</span>            <span class="s2">&quot;arrow_length&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="linenos">279</span>        <span class="p">},</span>
<span class="linenos">280</span>    <span class="p">],</span>
<span class="linenos">281</span><span class="p">}</span>
<span class="linenos">282</span>
<span class="linenos">283</span>
<span class="linenos">284</span><span class="n">rightside_u1_left</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">285</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;right_1&quot;</span><span class="p">,</span>
<span class="linenos">286</span>    <span class="c1"># range of values (nominal 1000 kg/hr )</span>
<span class="linenos">287</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">800.0</span><span class="p">,</span>
<span class="linenos">288</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">1200.0</span><span class="p">,</span>
<span class="linenos">289</span>    <span class="c1"># functions</span>
<span class="linenos">290</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">/</span> <span class="mf">3600.0</span><span class="p">,</span>
<span class="linenos">291</span>    <span class="c1"># scale type and detail</span>
<span class="linenos">292</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">293</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">294</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">295</span>    <span class="c1"># tick and title locations</span>
<span class="linenos">296</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\large ${\frac</span><span class="si">{kg}{hr}</span><span class="s2">}$&quot;</span><span class="p">,</span>
<span class="linenos">297</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">298</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">299</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos">300</span>    <span class="c1"># additional title information</span>
<span class="linenos">301</span>    <span class="s2">&quot;extra_titles&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">302</span>        <span class="p">{</span>
<span class="linenos">303</span>            <span class="s2">&quot;dx&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">2.3</span><span class="p">,</span>
<span class="linenos">304</span>            <span class="s2">&quot;dy&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos">305</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;\slshape \Large Fuel Burn Rate&quot;</span><span class="p">,</span>
<span class="linenos">306</span>            <span class="c1"># &#39;width&#39;: 5.0</span>
<span class="linenos">307</span>        <span class="p">},</span>
<span class="linenos">308</span>    <span class="p">],</span>
<span class="linenos">309</span><span class="p">}</span>
<span class="linenos">310</span>
<span class="linenos">311</span><span class="n">rightside_u1_right</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">312</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;right_1&quot;</span><span class="p">,</span>
<span class="linenos">313</span>    <span class="c1"># range of values (nominal 2020 lb/hr )</span>
<span class="linenos">314</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mi">800</span> <span class="o">*</span> <span class="mf">2.2</span><span class="p">,</span>
<span class="linenos">315</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">1200.0</span> <span class="o">*</span> <span class="mf">2.2</span><span class="p">,</span>
<span class="linenos">316</span>    <span class="c1"># functions</span>
<span class="linenos">317</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">318</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">/</span> <span class="mf">2.2</span><span class="p">,</span>
<span class="linenos">319</span>    <span class="c1"># scale type and detail</span>
<span class="linenos">320</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">321</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">322</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">323</span>    <span class="c1"># tick and title locations</span>
<span class="linenos">324</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\large ${\frac</span><span class="si">{lbs}{hr}</span><span class="s2">}$&quot;</span><span class="p">,</span>
<span class="linenos">325</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">326</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">327</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span>
<span class="linenos">328</span>    <span class="c1"># extra parameters</span>
<span class="linenos">329</span>    <span class="s2">&quot;extra_params&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">330</span>        <span class="p">{</span>
<span class="linenos">331</span>            <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual arrow&quot;</span><span class="p">,</span>
<span class="linenos">332</span>            <span class="s2">&quot;manual_axis_data&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">333</span>                <span class="mf">2020.0</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;VPS4&quot;</span><span class="p">,</span>
<span class="linenos">334</span>            <span class="p">},</span>
<span class="linenos">335</span>            <span class="s2">&quot;arrow_length&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos">336</span>        <span class="p">},</span>
<span class="linenos">337</span>    <span class="p">],</span>
<span class="linenos">338</span><span class="p">}</span>
<span class="linenos">339</span>
<span class="linenos">340</span>
<span class="linenos">341</span><span class="n">leftside_SI_block</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">342</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_2&quot;</span><span class="p">,</span>
<span class="linenos">343</span>    <span class="s2">&quot;f1_params&quot;</span><span class="p">:</span> <span class="n">leftside_u1_left</span><span class="p">,</span>
<span class="linenos">344</span>    <span class="s2">&quot;f2_params&quot;</span><span class="p">:</span> <span class="n">leftside_u2_left</span><span class="p">,</span>
<span class="linenos">345</span>    <span class="s2">&quot;f3_params&quot;</span><span class="p">:</span> <span class="n">leftside_u3_left</span><span class="p">,</span>
<span class="linenos">346</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">3.451</span><span class="p">,</span> <span class="mf">28.4</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">]],</span>
<span class="linenos">347</span><span class="p">}</span>
<span class="linenos">348</span>
<span class="linenos">349</span><span class="n">leftside_IMP_block</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">350</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_2&quot;</span><span class="p">,</span>
<span class="linenos">351</span>    <span class="s2">&quot;f1_params&quot;</span><span class="p">:</span> <span class="n">leftside_u1_right</span><span class="p">,</span>
<span class="linenos">352</span>    <span class="s2">&quot;f2_params&quot;</span><span class="p">:</span> <span class="n">leftside_u2_right</span><span class="p">,</span>
<span class="linenos">353</span>    <span class="s2">&quot;f3_params&quot;</span><span class="p">:</span> <span class="n">leftside_u3_right</span><span class="p">,</span>
<span class="linenos">354</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">3.451</span><span class="p">),</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">3.451</span><span class="p">)</span> <span class="o">/</span> <span class="mf">0.284</span><span class="p">]],</span>
<span class="linenos">355</span><span class="p">}</span>
<span class="linenos">356</span>
<span class="linenos">357</span><span class="n">rightside_SI_block</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">358</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_2&quot;</span><span class="p">,</span>
<span class="linenos">359</span>    <span class="s2">&quot;f1_params&quot;</span><span class="p">:</span> <span class="n">rightside_u1_left</span><span class="p">,</span>
<span class="linenos">360</span>    <span class="s2">&quot;f2_params&quot;</span><span class="p">:</span> <span class="n">rightside_u2_left</span><span class="p">,</span>
<span class="linenos">361</span>    <span class="s2">&quot;f3_params&quot;</span><span class="p">:</span> <span class="n">rightside_u3_left</span><span class="p">,</span>
<span class="linenos">362</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">2020.0</span> <span class="o">/</span> <span class="mf">2.2</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">]],</span>
<span class="linenos">363</span>    <span class="s2">&quot;mirror_x&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">364</span><span class="p">}</span>
<span class="linenos">365</span>
<span class="linenos">366</span><span class="n">rightside_IMP_block</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">367</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_2&quot;</span><span class="p">,</span>
<span class="linenos">368</span>    <span class="s2">&quot;f1_params&quot;</span><span class="p">:</span> <span class="n">rightside_u1_right</span><span class="p">,</span>
<span class="linenos">369</span>    <span class="s2">&quot;f2_params&quot;</span><span class="p">:</span> <span class="n">rightside_u2_right</span><span class="p">,</span>
<span class="linenos">370</span>    <span class="s2">&quot;f3_params&quot;</span><span class="p">:</span> <span class="n">rightside_u3_right</span><span class="p">,</span>
<span class="linenos">371</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">2020.0</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">watts2btu_hr</span><span class="p">(</span><span class="mf">3.451</span><span class="p">)</span> <span class="o">/</span> <span class="mf">0.284</span><span class="p">]],</span>
<span class="linenos">372</span>    <span class="s2">&quot;mirror_x&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">373</span><span class="p">}</span>
<span class="linenos">374</span>
<span class="linenos">375</span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">376</span>    <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">outputfile</span><span class="p">,</span>
<span class="linenos">377</span>    <span class="s2">&quot;paper_height&quot;</span><span class="p">:</span> <span class="mf">8.0</span> <span class="o">*</span> <span class="mf">2.54</span><span class="p">,</span>
<span class="linenos">378</span>    <span class="s2">&quot;paper_width&quot;</span><span class="p">:</span> <span class="mf">10.5</span> <span class="o">*</span> <span class="mf">2.54</span><span class="p">,</span>
<span class="linenos">379</span>    <span class="s2">&quot;block_params&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">380</span>        <span class="n">leftside_SI_block</span><span class="p">,</span>
<span class="linenos">381</span>        <span class="n">rightside_SI_block</span><span class="p">,</span>
<span class="linenos">382</span>        <span class="n">leftside_IMP_block</span><span class="p">,</span>
<span class="linenos">383</span>        <span class="n">rightside_IMP_block</span><span class="p">,</span>
<span class="linenos">384</span>    <span class="p">],</span>
<span class="linenos">385</span>    <span class="s2">&quot;transformations&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;rotate&quot;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;scale paper&quot;</span><span class="p">,)],</span>
<span class="linenos">386</span>    <span class="s2">&quot;title_str&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\Huge Gas Turbine \par Performance&quot;</span><span class="p">,</span>
<span class="linenos">387</span>    <span class="s2">&quot;title_x&quot;</span><span class="p">:</span> <span class="mf">5.5</span><span class="p">,</span>
<span class="linenos">388</span>    <span class="s2">&quot;title_y&quot;</span><span class="p">:</span> <span class="mf">21.0</span><span class="p">,</span>
<span class="linenos">389</span>    <span class="s2">&quot;extra_texts&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">390</span>        <span class="p">{</span>
<span class="linenos">391</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\large \textbf{Useful formulae:} \par \medskip \</span><span class="si">% e</span><span class="s2">ff = ${\frac</span><span class="si">{341214.1633}{HR}</span><span class="s2">}$ \par \medskip  HR = ${\frac{3412.141533 \times P_</span><span class="si">{in}</span><span class="s2">}{P_</span><span class="si">{out}</span><span class="s2">}}$  \par \medskip Power = LHV $\times$ BR&quot;</span><span class="p">,</span>
<span class="linenos">392</span>            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="linenos">393</span>            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="linenos">394</span>            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">395</span>        <span class="p">},</span>
<span class="linenos">396</span>        <span class="p">{</span>
<span class="linenos">397</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\copyright Daniel Boulet (2019-2020)&quot;</span><span class="p">,</span>
<span class="linenos">398</span>            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">21.0</span><span class="p">,</span>
<span class="linenos">399</span>            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span>
<span class="linenos">400</span>        <span class="p">},</span>
<span class="linenos">401</span>        <span class="p">{</span>
<span class="linenos">402</span>            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">16.0</span><span class="p">,</span>
<span class="linenos">403</span>            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
<span class="linenos">404</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\noindent \textbf{Example for Vericor VPS4 Genset} \par \medskip \noindent \normalsize Working from left to right, 3.451\,MW output at at 28.4\</span><span class="si">% e</span><span class="s2">fficiency requires 12.151\,MW input to turbine. From right to left, fuel flow rate of 2020 lbs per hour of fuel with heat value of 47.5\,MJ per kg will produce 12.151\,MW input to turbine. \par \medskip \noindent (Note: different system of units may be combined in a single calculation.)&quot;</span><span class="p">,</span>
<span class="linenos">405</span>            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mf">7.0</span><span class="p">,</span>
<span class="linenos">406</span>        <span class="p">},</span>
<span class="linenos">407</span>    <span class="p">],</span>
<span class="linenos">408</span>    <span class="c1"># &#39;make_grid&#39;: True,</span>
<span class="linenos">409</span><span class="p">}</span>
<span class="linenos">410</span><span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="voltage-divider">
<h2>Voltage Divider<a class="headerlink" href="#voltage-divider" title="Permalink to this headline">¶</a></h2>
<section id="id6">
<h3>Theory and background<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>In electronics, resistive voltage dividers are used for a variety of purposes.
The formula for a resistive voltage divider is <span id="id7">[<a class="reference internal" href="../bibliography/bibliography.html#id20" title="Wikipedia. Voltage divider — Wikipedia, the free encyclopedia. \url http://en.wikipedia.org/w/index.php?title=Voltage%20divider&amp;oldid=1047836365, 2021. [Online; accessed 31-December-2021].">Wik21c</a>]</span>:</p>
<p><span class="math notranslate nohighlight">\(\frac{V_{out}}{V_{in}} = \frac{R_b}{(R_a + R_b)}\)</span></p>
<a class="reference internal image-reference" href="../_images/ex_voltage_divider_schematic.png"><img alt="../_images/ex_voltage_divider_schematic.png" src="../_images/ex_voltage_divider_schematic.png" style="width: 200px;" /></a>
<p>When designing voltage dividers, constraints may demand engineers choose
resistors from a set of “preferred values” <span id="id8">[<a class="reference internal" href="../bibliography/bibliography.html#id21" title="Wikipedia. E series of preferred numbers — Wikipedia, the free encyclopedia. \url http://en.wikipedia.org/w/index.php?title=E%20series%20of%20preferred%20numbers&amp;oldid=1059349411, 2021. [Online; accessed 31-December-2021].">Wik21b</a>]</span>. These values are
discrete and engineers must select the best combination of resistors
based on tolerance and the available preferred values.  Similar voltage
ratios can be obtained with different combinations of resistor values.</p>
<p>The voltage divider nomograph links input voltage (<span class="math notranslate nohighlight">\(V_{in}\)</span>), output voltage (<span class="math notranslate nohighlight">\(V_{out}\)</span>) and a
pair of resistor values into a single nomograph.  Pynomo’s <strong>Type 5</strong> blocks
are well suited for plotting relationships between pairs of discrete values.
A vertical line dropped from the intersection of <span class="math notranslate nohighlight">\(R_a\)</span> values and <span class="math notranslate nohighlight">\(R_b\)</span> values
reveals the <span class="math notranslate nohighlight">\(V_{out}\)</span> / <span class="math notranslate nohighlight">\(V_{in}\)</span> voltage ratio.  Alignment with a <strong>Type 2</strong> block allows
the engineer to determine <span class="math notranslate nohighlight">\(V_{out}\)</span> given <span class="math notranslate nohighlight">\(V_{in}\)</span> (or vice versa).</p>
<p>Of greater benefit is the ability to quickly determine the optimum pair
of resistor values for a given application.  For example, given an input
voltage (9V) and desired output voltage (3.3V), the engineer draws a straight
line from the <span class="math notranslate nohighlight">\(V_{out}\)</span> axis, through the <span class="math notranslate nohighlight">\(V_{in}\)</span> axis to the base of the voltage ratio
graph.  A perpendicular line is then drawn from the base to the top of the
graph.  The vertical line’s nearest approach to the intersection of <span class="math notranslate nohighlight">\(R_a\)</span> and
<span class="math notranslate nohighlight">\(R_b\)</span> values represents the best combination of resistor values.  It can be
quickly shown that one combination of values (<span class="math notranslate nohighlight">\(R_a\)</span> = 6.2 and <span class="math notranslate nohighlight">\(R_b\)</span> = 3.6) will
produce an output voltage very close to the desired value (3.3061V).</p>
</section>
<section id="id9">
<h3>Nomograph<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/voltdiv_E24_resistors.png" src="../_images/voltdiv_E24_resistors.png" />
</section>
<section id="id10">
<h3>Source code<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  2</span><span class="sd">    voltdiv_E24_resistors.py</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="sd">    Nomogram to calculate resistor values for simple voltage divider.  This</span>
<span class="linenos">  5</span><span class="sd">    along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<span class="linenos">  6</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  7</span>
<span class="linenos">  8</span><span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos">  9</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos"> 10</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="linenos"> 11</span><span class="n">outputfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span>
<span class="linenos"> 12</span>
<span class="linenos"> 13</span><span class="kn">from</span> <span class="nn">pyx</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 14</span><span class="n">pyx</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">LatexEngine</span><span class="p">)</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 17</span>
<span class="linenos"> 18</span><span class="n">resistors</span> <span class="o">=</span> <span class="p">[</span>
<span class="linenos"> 19</span>	<span class="mf">1.0</span><span class="p">,</span>	<span class="mf">1.1</span><span class="p">,</span>	<span class="mf">1.2</span><span class="p">,</span>
<span class="linenos"> 20</span>	<span class="mf">1.3</span><span class="p">,</span>	<span class="mf">1.5</span><span class="p">,</span>	<span class="mf">1.6</span><span class="p">,</span>
<span class="linenos"> 21</span>	<span class="mf">1.8</span><span class="p">,</span>	<span class="mf">2.0</span><span class="p">,</span>	<span class="mf">2.2</span><span class="p">,</span>
<span class="linenos"> 22</span>	<span class="mf">2.4</span><span class="p">,</span>	<span class="mf">2.7</span><span class="p">,</span>	<span class="mf">3.0</span><span class="p">,</span>
<span class="linenos"> 23</span>	<span class="mf">3.3</span><span class="p">,</span>	<span class="mf">3.6</span><span class="p">,</span>	<span class="mf">3.9</span><span class="p">,</span>
<span class="linenos"> 24</span>	<span class="mf">4.3</span><span class="p">,</span>	<span class="mf">4.7</span><span class="p">,</span>	<span class="mf">5.1</span><span class="p">,</span>
<span class="linenos"> 25</span>	<span class="mf">5.6</span><span class="p">,</span>	<span class="mf">6.2</span><span class="p">,</span>	<span class="mf">6.8</span><span class="p">,</span>
<span class="linenos"> 26</span>	<span class="mf">7.5</span><span class="p">,</span>	<span class="mf">8.2</span><span class="p">,</span>	<span class="mf">9.1</span>
<span class="linenos"> 27</span><span class="p">]</span>
<span class="linenos"> 28</span>
<span class="linenos"> 29</span><span class="c1"># Type 5 contour</span>
<span class="linenos"> 30</span><span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">u</span><span class="p">):</span>
<span class="linenos"> 31</span>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">u</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="n">x</span><span class="p">)</span>
<span class="linenos"> 32</span>
<span class="linenos"> 33</span>
<span class="linenos"> 34</span><span class="n">block_1_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 35</span>    <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mf">12.0</span><span class="p">,</span>
<span class="linenos"> 36</span>    <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">25.0</span><span class="p">,</span>
<span class="linenos"> 37</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_5&#39;</span><span class="p">,</span>
<span class="linenos"> 38</span>
<span class="linenos"> 39</span>    <span class="s1">&#39;u_func&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 40</span>    <span class="s1">&#39;u_values&#39;</span><span class="p">:</span> <span class="n">resistors</span><span class="p">,</span>
<span class="linenos"> 41</span>    <span class="s1">&#39;u_axis_color&#39;</span><span class="p">:</span> <span class="n">pyx</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">cmyk</span><span class="o">.</span><span class="n">Red</span><span class="p">,</span>
<span class="linenos"> 42</span>    <span class="s1">&#39;u_title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\Large{$R_a$}&#39;</span><span class="p">,</span>
<span class="linenos"> 43</span>    <span class="s1">&#39;u_text_format&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\normalsize{$</span><span class="si">%3.1f</span><span class="s2">$}&quot;</span><span class="p">,</span>
<span class="linenos"> 44</span>
<span class="linenos"> 45</span>    <span class="s1">&#39;v_func&#39;</span><span class="p">:</span> <span class="n">f1</span><span class="p">,</span>
<span class="linenos"> 46</span>    <span class="s1">&#39;v_values&#39;</span><span class="p">:</span> <span class="n">resistors</span><span class="p">,</span>
<span class="linenos"> 47</span>    <span class="s1">&#39;v_axis_color&#39;</span><span class="p">:</span> <span class="n">pyx</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">cmyk</span><span class="o">.</span><span class="n">Red</span><span class="p">,</span>
<span class="linenos"> 48</span>    <span class="s1">&#39;v_title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\Large{$R_b$}&#39;</span><span class="p">,</span>
<span class="linenos"> 49</span>    <span class="s1">&#39;v_text_format&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\normalsize{$</span><span class="si">%3.1f</span><span class="s2">$}&quot;</span><span class="p">,</span>
<span class="linenos"> 50</span>
<span class="linenos"> 51</span>    <span class="s1">&#39;wd_tag&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
<span class="linenos"> 52</span>    <span class="s1">&#39;wd_tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span>
<span class="linenos"> 53</span>	<span class="s1">&#39;wd_title&#39;</span><span class="p">:</span><span class="sa">r</span><span class="s1">&#39;\Large $\frac{V_</span><span class="si">{out}</span><span class="s1">}{V_</span><span class="si">{in}</span><span class="s1">}$&#39;</span><span class="p">,</span>
<span class="linenos"> 54</span>    <span class="s1">&#39;wd_tick_levels&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 55</span>    <span class="s1">&#39;wd_tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 56</span>    <span class="s1">&#39;wd_title_opposite_tick&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 57</span>    <span class="s1">&#39;wd_axis_color&#39;</span><span class="p">:</span> <span class="n">pyx</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">cmyk</span><span class="o">.</span><span class="n">Gray</span><span class="p">,</span>
<span class="linenos"> 58</span>    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 59</span>        <span class="p">[</span><span class="mf">6.2</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="linenos"> 60</span>    <span class="p">],</span>
<span class="linenos"> 61</span>    <span class="s1">&#39;vertical_guide_nr&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="linenos"> 62</span>	<span class="s1">&#39;manual_x_scale&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>		<span class="c1"># trick to &quot;decompress&quot; Ra scale</span>
<span class="linenos"> 63</span>
<span class="linenos"> 64</span><span class="p">}</span>
<span class="linenos"> 65</span>
<span class="linenos"> 66</span><span class="c1"># this is non-obvious trick to find bottom edge coordinates of the grid in order</span>
<span class="linenos"> 67</span><span class="c1"># to align it with N nomogram</span>
<span class="linenos"> 68</span><span class="n">block1_dummy</span> <span class="o">=</span> <span class="n">Nomo_Block_Type_5</span><span class="p">(</span><span class="n">mirror_x</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 69</span><span class="n">block1_dummy</span><span class="o">.</span><span class="n">define_block</span><span class="p">(</span><span class="n">block_1_params</span><span class="p">)</span>
<span class="linenos"> 70</span><span class="n">block1_dummy</span><span class="o">.</span><span class="n">set_block</span><span class="p">()</span>
<span class="linenos"> 71</span>
<span class="linenos"> 72</span><span class="c1"># Let&#39;s define the N-nomogram</span>
<span class="linenos"> 73</span><span class="n">N_params_3</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 74</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="n">block1_dummy</span><span class="o">.</span><span class="n">grid_box</span><span class="o">.</span><span class="n">params_wd</span><span class="p">[</span><span class="s1">&#39;u_min&#39;</span><span class="p">],</span>
<span class="linenos"> 75</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="n">block1_dummy</span><span class="o">.</span><span class="n">grid_box</span><span class="o">.</span><span class="n">params_wd</span><span class="p">[</span><span class="s1">&#39;u_max&#39;</span><span class="p">],</span>
<span class="linenos"> 76</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 77</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="linenos"> 78</span>    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
<span class="linenos"> 79</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span>
<span class="linenos"> 80</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 81</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 82</span>    <span class="s1">&#39;reference&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="linenos"> 83</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos"> 84</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos"> 85</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span>
<span class="linenos"> 86</span><span class="p">}</span>
<span class="linenos"> 87</span><span class="n">N_params_2</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 88</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">6.0</span><span class="p">,</span>
<span class="linenos"> 89</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">24.0</span><span class="p">,</span>
<span class="linenos"> 90</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 91</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$V_</span><span class="si">{in}</span><span class="s1">$&#39;</span><span class="p">,</span>
<span class="linenos"> 92</span>    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>
<span class="linenos"> 93</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
<span class="linenos"> 94</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 95</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 96</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 97</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos"> 98</span><span class="p">}</span>
<span class="linenos"> 99</span><span class="n">N_params_1</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">100</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">101</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">102</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">103</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$V_</span><span class="si">{out}</span><span class="s1">$&#39;</span><span class="p">,</span>
<span class="linenos">104</span>    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>
<span class="linenos">105</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos">106</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span>
<span class="linenos">107</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">108</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">109</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span>
<span class="linenos">110</span><span class="p">}</span>
<span class="linenos">111</span>
<span class="linenos">112</span><span class="n">block_2_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">113</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
<span class="linenos">114</span>    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">N_params_1</span><span class="p">,</span>
<span class="linenos">115</span>    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">N_params_2</span><span class="p">,</span>
<span class="linenos">116</span>    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">N_params_3</span><span class="p">,</span>
<span class="linenos">117</span>    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">118</span>        <span class="c1"># Vout, Vin, ratio</span>
<span class="linenos">119</span>        <span class="p">[</span><span class="mf">3.3</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span>
<span class="linenos">120</span>    <span class="p">]</span>
<span class="linenos">121</span><span class="p">}</span>
<span class="linenos">122</span>
<span class="linenos">123</span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">124</span>	<span class="c1"># &#39;make_grid&#39;: True,</span>
<span class="linenos">125</span>    <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="n">outputfile</span><span class="p">,</span>
<span class="linenos">126</span>    <span class="s1">&#39;paper_height&#39;</span><span class="p">:</span> <span class="mf">8.5</span><span class="o">*</span><span class="mf">2.54</span><span class="p">,</span>
<span class="linenos">127</span>    <span class="s1">&#39;paper_width&#39;</span><span class="p">:</span> <span class="mf">11.0</span><span class="o">*</span><span class="mf">2.54</span><span class="p">,</span>
<span class="linenos">128</span>    <span class="s1">&#39;block_params&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">block_1_params</span><span class="p">,</span> <span class="n">block_2_params</span><span class="p">],</span>
<span class="linenos">129</span>    <span class="s1">&#39;transformations&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;scale paper&#39;</span><span class="p">,)],</span>
<span class="linenos">130</span>    <span class="s1">&#39;title_str&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\Large Voltage Divider Nomograph \par </span><span class="se">\</span>
<span class="linenos">131</span><span class="s1">        \normalsize (For E24 series values) \par \bigskip </span><span class="se">\</span>
<span class="linenos">132</span><span class="s1">        \large $V_</span><span class="si">{out}</span><span class="s1">=V_</span><span class="si">{in}</span><span class="s1"> \cdot \frac</span><span class="si">{R_b}</span><span class="s1">{R_a+R_b}$ </span><span class="se">\</span>
<span class="linenos">133</span><span class="s1">        \par \bigskip   \normalsize \copyright    Daniel Boulet  2018-2021&#39;</span><span class="p">,</span>
<span class="linenos">134</span>    <span class="s1">&#39;title_x&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="linenos">135</span>    <span class="s1">&#39;title_y&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
<span class="linenos">136</span>    <span class="s1">&#39;isopleth_params&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">137</span>        <span class="p">{</span>
<span class="linenos">138</span>            <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span>
<span class="linenos">139</span>            <span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="s1">&#39;thick&#39;</span><span class="p">,</span>
<span class="linenos">140</span>            <span class="s1">&#39;linestyle&#39;</span><span class="p">:</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span>
<span class="linenos">141</span>            <span class="s1">&#39;circle_size&#39;</span><span class="p">:</span> <span class="mf">0.10</span><span class="p">,</span>
<span class="linenos">142</span>        <span class="p">},</span>
<span class="linenos">143</span>    <span class="p">],</span>
<span class="linenos">144</span><span class="p">}</span>
<span class="linenos">145</span>
<span class="linenos">146</span><span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="velocity-factor-calculator">
<h2>Velocity Factor Calculator<a class="headerlink" href="#velocity-factor-calculator" title="Permalink to this headline">¶</a></h2>
<p><span class="math notranslate nohighlight">\(\frac{1}{4}\lambda\)</span> matching stubs can be created with different types of coax cable.  However, the velocify factor of coax cables varies by type and manufacturer.  This nomograph allows an engineer to substitute one type for another of different length and velocity factor.</p>
<section id="id11">
<h3>Nomograph<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/vf_calculator.png" src="../_images/vf_calculator.png" />
</section>
<section id="id12">
<h3>Source code<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  2</span><span class="sd">    vf_calculator.py</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="sd">    Stub matching nomogram for 80 to 260 MHz range.</span>
<span class="linenos">  5</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="kn">import</span> <span class="n">Nomographer</span>
<span class="linenos">  8</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos">  9</span><span class="kn">from</span> <span class="nn">pyx</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 10</span><span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">LatexEngine</span><span class="p">)</span>
<span class="linenos"> 11</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="linenos"> 12</span><span class="n">outputfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="n">text</span><span class="o">.</span><span class="n">preamble</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\usepackage</span><span class="si">{array}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="n">scalingFactor</span> <span class="o">=</span> <span class="mi">2</span>
<span class="linenos"> 17</span><span class="n">shortest_wavelength</span> <span class="o">=</span> <span class="mf">0.19250</span>
<span class="linenos"> 18</span><span class="n">longest_wavelength</span> <span class="o">=</span> <span class="mf">0.77001</span>
<span class="linenos"> 19</span>
<span class="linenos"> 20</span><span class="n">stub_length_1</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 21</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="n">shortest_wavelength</span><span class="p">,</span>
<span class="linenos"> 22</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="n">longest_wavelength</span><span class="p">,</span>
<span class="linenos"> 23</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">**</span><span class="n">scalingFactor</span><span class="p">,</span>
<span class="linenos"> 24</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Cable 1&#39;</span><span class="p">,</span>
<span class="linenos"> 25</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 26</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 27</span>    <span class="s1">&#39;text_format&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$</span><span class="si">%2.2g</span><span class="s1">$m&#39;</span><span class="p">,</span>
<span class="linenos"> 28</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos"> 29</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
<span class="linenos"> 30</span><span class="p">}</span>
<span class="linenos"> 31</span><span class="n">vel_factor_1</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 32</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
<span class="linenos"> 33</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
<span class="linenos"> 34</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="p">(</span><span class="n">u</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span><span class="o">**</span><span class="n">scalingFactor</span><span class="p">,</span>
<span class="linenos"> 35</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Cable 1 VF (\%)&#39;</span><span class="p">,</span>
<span class="linenos"> 36</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 37</span>    <span class="s1">&#39;text_format&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$</span><span class="si">%2.2g</span><span class="s1">$&#39;</span><span class="p">,</span>
<span class="linenos"> 38</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 39</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos"> 40</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span>
<span class="linenos"> 41</span>    <span class="s1">&#39;extra_params&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 42</span>        <span class="p">{</span>
<span class="linenos"> 43</span>            <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;manual arrow&#39;</span><span class="p">,</span>
<span class="linenos"> 44</span>            <span class="s1">&#39;arrow_length&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span>
<span class="linenos"> 45</span>            <span class="s1">&#39;manual_axis_data&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos"> 46</span>                <span class="mi">66</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;A&#39;</span><span class="p">,</span>
<span class="linenos"> 47</span>                <span class="mi">73</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;B&#39;</span><span class="p">,</span>
<span class="linenos"> 48</span>                <span class="mi">78</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;C&#39;</span><span class="p">,</span>
<span class="linenos"> 49</span>                <span class="mi">80</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;D&#39;</span><span class="p">,</span>
<span class="linenos"> 50</span>                <span class="mi">81</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;E&#39;</span><span class="p">,</span>
<span class="linenos"> 51</span>                <span class="mi">82</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;F&#39;</span><span class="p">,</span>
<span class="linenos"> 52</span>                <span class="mi">84</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;G&#39;</span><span class="p">,</span>
<span class="linenos"> 53</span>                <span class="mi">85</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;H&#39;</span><span class="p">,</span>
<span class="linenos"> 54</span>            <span class="p">},</span>
<span class="linenos"> 55</span>            <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span>
<span class="linenos"> 56</span>        <span class="p">}</span>
<span class="linenos"> 57</span>    <span class="p">]</span>
<span class="linenos"> 58</span><span class="p">}</span>
<span class="linenos"> 59</span>
<span class="linenos"> 60</span><span class="n">stub_length_2</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 61</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="n">shortest_wavelength</span><span class="p">,</span>
<span class="linenos"> 62</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="n">longest_wavelength</span><span class="p">,</span>
<span class="linenos"> 63</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">**</span><span class="n">scalingFactor</span><span class="p">,</span>
<span class="linenos"> 64</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Cable 2 length&#39;</span><span class="p">,</span>
<span class="linenos"> 65</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 66</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 67</span>    <span class="s1">&#39;text_format&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$</span><span class="si">%2.2g</span><span class="s1">$m&#39;</span><span class="p">,</span>
<span class="linenos"> 68</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos"> 69</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span>
<span class="linenos"> 70</span>    <span class="s1">&#39;title_x_shift&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 71</span>    <span class="s1">&#39;title_rotate_text&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 72</span><span class="p">}</span>
<span class="linenos"> 73</span><span class="n">vel_factor_2</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 74</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
<span class="linenos"> 75</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
<span class="linenos"> 76</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="p">(</span><span class="n">u</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span><span class="o">**</span><span class="n">scalingFactor</span><span class="p">,</span>
<span class="linenos"> 77</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Cable 2 VF (\%)&#39;</span><span class="p">,</span>
<span class="linenos"> 78</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 79</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 80</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos"> 81</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
<span class="linenos"> 82</span>    <span class="s1">&#39;title_rotate_text&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 83</span>    <span class="s1">&#39;title_x_shift&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 84</span>    <span class="s1">&#39;extra_params&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 85</span>        <span class="p">{</span>
<span class="linenos"> 86</span>            <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;manual arrow&#39;</span><span class="p">,</span>
<span class="linenos"> 87</span>            <span class="s1">&#39;arrow_length&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span>
<span class="linenos"> 88</span>            <span class="s1">&#39;manual_axis_data&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos"> 89</span>                <span class="mi">66</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;A&#39;</span><span class="p">,</span>
<span class="linenos"> 90</span>                <span class="mi">73</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;B&#39;</span><span class="p">,</span>
<span class="linenos"> 91</span>                <span class="mi">78</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;C&#39;</span><span class="p">,</span>
<span class="linenos"> 92</span>                <span class="mi">80</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;D&#39;</span><span class="p">,</span>
<span class="linenos"> 93</span>                <span class="mi">81</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;E&#39;</span><span class="p">,</span>
<span class="linenos"> 94</span>                <span class="mi">82</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;F&#39;</span><span class="p">,</span>
<span class="linenos"> 95</span>                <span class="mi">84</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;G&#39;</span><span class="p">,</span>
<span class="linenos"> 96</span>                <span class="mi">85</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;H&#39;</span><span class="p">,</span>
<span class="linenos"> 97</span>            <span class="p">},</span>
<span class="linenos"> 98</span>            <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span>
<span class="linenos"> 99</span>        <span class="p">}</span>
<span class="linenos">100</span>    <span class="p">]</span>
<span class="linenos">101</span>
<span class="linenos">102</span><span class="p">}</span>
<span class="linenos">103</span>
<span class="linenos">104</span><span class="n">block_1_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">105</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_4&#39;</span><span class="p">,</span>
<span class="linenos">106</span>    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">stub_length_1</span><span class="p">,</span>
<span class="linenos">107</span>    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">vel_factor_1</span><span class="p">,</span>
<span class="linenos">108</span>    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">stub_length_2</span><span class="p">,</span>
<span class="linenos">109</span>    <span class="s1">&#39;f4_params&#39;</span><span class="p">:</span> <span class="n">vel_factor_2</span><span class="p">,</span>
<span class="linenos">110</span>    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">85</span><span class="p">]],</span>
<span class="linenos">111</span>    <span class="s1">&#39;reference_color&#39;</span><span class="p">:</span> <span class="n">color</span><span class="o">.</span><span class="n">cmyk</span><span class="o">.</span><span class="n">Gray</span>
<span class="linenos">112</span><span class="p">}</span>
<span class="linenos">113</span>
<span class="linenos">114</span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">115</span>    <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="n">outputfile</span><span class="p">,</span>
<span class="linenos">116</span>    <span class="s1">&#39;paper_height&#39;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
<span class="linenos">117</span>    <span class="s1">&#39;paper_width&#39;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
<span class="linenos">118</span>    <span class="s1">&#39;block_params&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">block_1_params</span><span class="p">],</span>
<span class="linenos">119</span>    <span class="s1">&#39;transformations&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;scale paper&#39;</span><span class="p">,)],</span>
<span class="linenos">120</span>    <span class="s1">&#39;title_box_width&#39;</span><span class="p">:</span><span class="mf">7.0</span><span class="p">,</span>
<span class="linenos">121</span>    <span class="s1">&#39;title_str&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\LARGE 80--260MHz $\frac</span><span class="si">{1}{4}</span><span class="s1">\lambda$ Stub Matching Chart \par $\frac</span><span class="si">{L_1}{VF_1}</span><span class="s1">=\frac</span><span class="si">{L_2}{VF_2}</span><span class="s1">$&#39;</span><span class="p">,</span>
<span class="linenos">122</span>    <span class="s1">&#39;title_x&#39;</span><span class="p">:</span><span class="mf">15.0</span><span class="p">,</span>
<span class="linenos">123</span>    <span class="s1">&#39;title_y&#39;</span><span class="p">:</span> <span class="mf">8.0</span><span class="p">,</span>
<span class="linenos">124</span>    <span class="c1"># &#39;make_grid&#39;: True,</span>
<span class="linenos">125</span>    <span class="s1">&#39;extra_texts&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">126</span>        <span class="p">{</span>
<span class="linenos">127</span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">128</span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span>
<span class="linenos">129</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\begin</span><span class="si">{center}</span><span class="s1"> \begin</span><span class="si">{tabular}</span><span class="s1">{| m</span><span class="si">{6cm}</span><span class="s1"> | c | } \hline \bf{Cable Type} &amp; \bf</span><span class="si">{Label}</span><span class="s1"> </span><span class="se">\\</span><span class="s1">                 \hline RG-6/U PE (Belden 8215) \newline RG-8/U PE (Belden 8237) \newline RG-58/U PE (Belden 9201) \newline RG-59A/U PE (Belden 8241) \newline RG-174 PE (Belden 8216) \newline RG-213/U (Belden 8267) &amp; A (66\%)  </span><span class="se">\\</span><span class="s1">                  \hline RG-58A/U Foam (Belden 8219) \newline RG-174 Foam (Belden 7805R) &amp; B (73\%) </span><span class="se">\\</span><span class="s1">            	\hline RG-8/U Foam (Belden 8214) \newline RG-59A/U Foam (Belden 8241F) &amp; C (78\%) </span><span class="se">\\</span><span class="s1">                 \hline LMR-240UF &amp; D (80\%) </span><span class="se">\\</span><span class="s1">                 \hline RG-6/U Foam (Belden 9290) &amp; E  (81\%) </span><span class="se">\\</span><span class="s1">                 \hline RG-8X (Belden 9258) \newline Davis BuryFlex &amp; F (82\%)  </span><span class="se">\\</span><span class="s1">                 \hline RG-8/U (Belden 9913) \newline RG-11/U Foam HDPE (Beldin 9292) \newline LMR-240 &amp; G (84\%) </span><span class="se">\\</span><span class="s1"> \hline LMR-400 \newline LMR-400UF &amp; H (85\%) </span><span class="se">\\</span><span class="s1"> \hline \end</span><span class="si">{tabular}</span><span class="s1"> \end</span><span class="si">{center}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="linenos">130</span>            <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">131</span>        <span class="p">},</span>
<span class="linenos">132</span>        <span class="p">{</span>
<span class="linenos">133</span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">11.0</span><span class="p">,</span>
<span class="linenos">134</span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
<span class="linenos">135</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\noindent This chart will calculate the cable length required to substitute the same wavelength stub with another having a different velocity factor. \newline \newline Example: to substitute a 0.5m section of RG-213 requires a 0.644m section of LMR-400. \newline \newline \copyright Daniel Boulet (2020)&#39;</span><span class="p">,</span>
<span class="linenos">136</span>            <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mf">9.0</span><span class="p">,</span>
<span class="linenos">137</span>        <span class="p">},</span>
<span class="linenos">138</span>    <span class="p">],</span>
<span class="linenos">139</span>
<span class="linenos">140</span>
<span class="linenos">141</span><span class="p">}</span>
<span class="linenos">142</span><span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="true-vswr-calculator">
<h2>True VSWR Calculator<a class="headerlink" href="#true-vswr-calculator" title="Permalink to this headline">¶</a></h2>
<section id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p>Amateur radio operators frequently design and build their own antennae.  An important performance characteristic of any antenna system is the <strong>Voltage Standing Wave Ratio</strong> (VSWR).  The VSWR is a measure of the impedance match between the signal source (transmitter) and the load (antenna). Maximum power transfer from transmitter to antenna occurs when the source’s output impedance matches the load’s input impedance. A VSWR of 1:1 or simply “1” indicates a perfect match.</p>
</section>
<section id="vswr-return-loss-and-cable-attentuation">
<h3>VSWR, Return Loss and Cable Attentuation<a class="headerlink" href="#vswr-return-loss-and-cable-attentuation" title="Permalink to this headline">¶</a></h3>
<p>The VSWR is calculated from the forward and reflected power as follows <span id="id13">[<a class="reference internal" href="../bibliography/bibliography.html#id17" title="Wikipedia. Standing wave ratio — Wikipedia, the free encyclopedia. 2021. [Online; accessed 6-January-2022]. URL: https://en.wikipedia.org/w/index.php?title=Standing_wave_ratio&amp;oldid=1061732394.">Wik21a</a>]</span>:</p>
<p><span class="math notranslate nohighlight">\(VSWR = \frac{1+\sqrt{P_r/P_f}}{1-\sqrt{P_r/P_f}}\)</span>.</p>
<p><strong>Return loss</strong> (RL) is also an indicator of antenna performance. It is the ratio of forward power to reflected power expressed in decibels (dB) <span id="id14">[<a class="reference internal" href="../bibliography/bibliography.html#id19" title="Electronic-Notes. Vswr to return loss conversion table &amp; formulas. 2021. [Online; accessed 6-January-2022]. URL: https://www.electronics-notes.com/articles/antennas-propagation/vswr-return-loss/vswr-return-loss-conversion-table.php.">EN21</a>]</span>:</p>
<p><span class="math notranslate nohighlight">\(RL = 10 \log_{10}{P_\mathrm f \over P_\mathrm r}\)</span></p>
<p>where <span class="math notranslate nohighlight">\(P_f\)</span> and <span class="math notranslate nohighlight">\(P_r\)</span> are respectively forward and reflected power in Watts.  By converting forward and reflected power readings to a decibel value referenced to 1W (0 dBW) the return loss can be expressed as:</p>
<p><span class="math notranslate nohighlight">\(RL = P_f - P_r\)</span> (dB)</p>
<p>Return loss and VSWR are related <span id="id15">[<a class="reference internal" href="../bibliography/bibliography.html#id19" title="Electronic-Notes. Vswr to return loss conversion table &amp; formulas. 2021. [Online; accessed 6-January-2022]. URL: https://www.electronics-notes.com/articles/antennas-propagation/vswr-return-loss/vswr-return-loss-conversion-table.php.">EN21</a>]</span> by the following formulae:</p>
<p><span class="math notranslate nohighlight">\(RL = -20 \times \log_{10} \frac{VSWR - 1}{VSWR + 1}\)</span></p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(VSWR = \frac{10^\frac{RL}{20} + 1}{10^\frac{RL}{20} - 1}\)</span>.</p>
<p>A high return loss (&gt;30dB) indicates a high ratio of forward power to reflected power therefore a good impedance match. A return loss approaching 0dB means the reflected power is nearly equal to the forward power indicating a mismatch.</p>
</section>
<section id="cable-loss-and-impact-on-vswr">
<h3>Cable loss and impact on VSWR<a class="headerlink" href="#cable-loss-and-impact-on-vswr" title="Permalink to this headline">¶</a></h3>
<p>VSWR is a useful indicator of power transfer but measured results can be misleading. The transmission line connecting the transmitter to the antenna will introduce some loss therefore the RF power reaching the antenna will be lower than the RF power delivered by the transmitter.  Similarly, the power reflected by the antenna will also have been attenuated by the transmission line before it returns to the power meter. The combined effect of attenuated forward and reflected power will make it appear as though the VSWR is lower than it would be if measured at the antenna. It isn’t practical to install a power meter at the antenna but the true VSWR can be calculated based on measured VSWR and known cable losses.</p>
<p>Cable attentuation is specified in dB per unit length. Cable attentuation for LMR®-195 is based on the following formula <span id="id16">[<a class="reference internal" href="../bibliography/bibliography.html#id18" title="Times Microwave Systems. Lmr®-195 flexible low loss communications coax - times ... [Online; accessed 6-January-2022]. URL: https://www.timesmicrowave.com/DataSheets/CableProducts/LMR-195.pdf.">Sys</a>]</span>:</p>
<p><span class="math notranslate nohighlight">\(Loss = (0.356859) \times \sqrt{f} + (0.000470) \times f\)</span></p>
<p>where <span class="math notranslate nohighlight">\(Loss\)</span> is the attentuation per 100 feet and <span class="math notranslate nohighlight">\(f\)</span> is the operating frequency in megahertz. Given forward and reflected power readings in dB and cable length, we can easily calculate the true return loss at the antenna:</p>
<p><span class="math notranslate nohighlight">\(RL_{true} = RL_{measured} - 2 * Loss\)</span>.</p>
<p>A return loss figure can then be converted to VSWR using the formula described earlier.</p>
</section>
<section id="nomograph-construction">
<h3>Nomograph construction<a class="headerlink" href="#nomograph-construction" title="Permalink to this headline">¶</a></h3>
<p>Both formulae for return loss can be easily put into a form acceptable for Type 1 block.   A graph is created using a Type 5 nomograph to calculate cable losses given a length and operating frequency.</p>
<p>Since radio amateurs usually work in terms of power expressed in Watts and VSWR, Type 8 blocks are anchored to the Type 1 blocks to convert dbW and RL into Watts and VSWR respectively.  The dB axes are hidden to minimize clutter.</p>
</section>
<section id="generated-nomograph">
<h3>Generated nomograph<a class="headerlink" href="#generated-nomograph" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/true_vswr_lmr400.png" src="../_images/true_vswr_lmr400.png" />
</section>
<section id="id17">
<h3>Source code<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  2</span><span class="sd">    full_vswr.py</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="sd">    Nomogram to calculate VSWR at antenna given measured VSWR and feedline antenuation.</span>
<span class="linenos">  5</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  6</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos">  7</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos">  8</span><span class="kn">from</span> <span class="nn">pyx</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos">  9</span>
<span class="linenos"> 10</span><span class="n">outputfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.pdf&quot;</span>
<span class="linenos"> 11</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="linenos"> 12</span><span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">LatexEngine</span><span class="p">)</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="kn">import</span> <span class="n">Nomographer</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="n">minimum_return_loss</span> <span class="o">=</span> <span class="mf">6.0</span>
<span class="linenos"> 17</span><span class="n">maximum_return_loss</span> <span class="o">=</span> <span class="mf">40.0</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span>
<span class="linenos"> 20</span><span class="c1"># various conversion functions</span>
<span class="linenos"> 21</span><span class="k">def</span> <span class="nf">vswr2rl</span><span class="p">(</span><span class="n">vswr</span><span class="p">):</span>
<span class="linenos"> 22</span>    <span class="c1"># vswr to return loss in db</span>
<span class="linenos"> 23</span>    <span class="k">return</span> <span class="o">-</span><span class="mi">20</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">((</span><span class="n">vswr</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">vswr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="linenos"> 24</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span><span class="k">def</span> <span class="nf">rl2vswr</span><span class="p">(</span><span class="n">rl</span><span class="p">):</span>
<span class="linenos"> 27</span>    <span class="c1"># return loss to vswr</span>
<span class="linenos"> 28</span>    <span class="k">return</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="n">rl</span> <span class="o">/</span> <span class="mi">20</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">10</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="n">rl</span> <span class="o">/</span> <span class="mi">20</span><span class="p">))</span>
<span class="linenos"> 29</span>
<span class="linenos"> 30</span>
<span class="linenos"> 31</span><span class="k">def</span> <span class="nf">watts2dbw</span><span class="p">(</span><span class="n">watts</span><span class="p">):</span>
<span class="linenos"> 32</span>    <span class="c1"># watts to dbW</span>
<span class="linenos"> 33</span>    <span class="k">return</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">watts</span><span class="p">)</span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span>
<span class="linenos"> 36</span><span class="k">def</span> <span class="nf">dbw2watts</span><span class="p">(</span><span class="n">dbw</span><span class="p">):</span>
<span class="linenos"> 37</span>    <span class="c1"># dbW to watts</span>
<span class="linenos"> 38</span>    <span class="k">return</span> <span class="mi">10</span> <span class="o">**</span> <span class="p">(</span><span class="n">dbw</span> <span class="o">/</span> <span class="mf">10.0</span><span class="p">)</span>
<span class="linenos"> 39</span>
<span class="linenos"> 40</span>
<span class="linenos"> 41</span><span class="k">def</span> <span class="nf">cableloss</span><span class="p">(</span><span class="n">freq</span><span class="p">):</span>
<span class="linenos"> 42</span>    <span class="c1"># cable loss in db per meter at freq</span>
<span class="linenos"> 43</span>    <span class="c1"># source formula is db per 100 feet</span>
<span class="linenos"> 44</span>    <span class="k">return</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.122290</span> <span class="o">+</span> <span class="n">freq</span> <span class="o">*</span> <span class="mf">0.000260</span><span class="p">)</span> <span class="o">/</span> <span class="mf">100.0</span> <span class="o">/</span> <span class="mf">0.3048</span>
<span class="linenos"> 45</span>
<span class="linenos"> 46</span>
<span class="linenos"> 47</span><span class="c1"># measured return loss axes and block section</span>
<span class="linenos"> 48</span><span class="n">axis1_forward_power_meas_watts</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 49</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;axis14&quot;</span><span class="p">,</span>
<span class="linenos"> 50</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos"> 51</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">150.0</span><span class="p">,</span>
<span class="linenos"> 52</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$P_</span><span class="si">{fwd}</span><span class="s2">$&quot;</span><span class="p">,</span>
<span class="linenos"> 53</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 54</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 55</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">watts2dbw</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 56</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">watts2dbw</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 57</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos"> 58</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos"> 59</span><span class="p">}</span>
<span class="linenos"> 60</span>
<span class="linenos"> 61</span><span class="n">block_forward_watts</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 62</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_8&quot;</span><span class="p">,</span>
<span class="linenos"> 63</span>    <span class="s2">&quot;f_params&quot;</span><span class="p">:</span> <span class="n">axis1_forward_power_meas_watts</span><span class="p">,</span>
<span class="linenos"> 64</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;x&quot;</span><span class="p">]],</span>
<span class="linenos"> 65</span><span class="p">}</span>
<span class="linenos"> 66</span>
<span class="linenos"> 67</span><span class="n">axis2_reflected_power_meas_watts</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 68</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;axis25&quot;</span><span class="p">,</span>
<span class="linenos"> 69</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$P_</span><span class="si">{ref}</span><span class="s2">$&quot;</span><span class="p">,</span>
<span class="linenos"> 70</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
<span class="linenos"> 71</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos"> 72</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">watts2dbw</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 73</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">watts2dbw</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 74</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 75</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 76</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos"> 77</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos"> 78</span><span class="p">}</span>
<span class="linenos"> 79</span>
<span class="linenos"> 80</span><span class="n">block_reflected_watts</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 81</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_8&quot;</span><span class="p">,</span>
<span class="linenos"> 82</span>    <span class="s2">&quot;f_params&quot;</span><span class="p">:</span> <span class="n">axis2_reflected_power_meas_watts</span><span class="p">,</span>
<span class="linenos"> 83</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;x&quot;</span><span class="p">]],</span>
<span class="linenos"> 84</span><span class="p">}</span>
<span class="linenos"> 85</span>
<span class="linenos"> 86</span><span class="n">axis3_return_loss_meas_vswr</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 87</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;axis36&quot;</span><span class="p">,</span>
<span class="linenos"> 88</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">1.2</span><span class="p">,</span>
<span class="linenos"> 89</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span>
<span class="linenos"> 90</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;VSWR (Measured)&quot;</span><span class="p">,</span>
<span class="linenos"> 91</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">vswr2rl</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 92</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">vswr2rl</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 93</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 94</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 95</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos"> 96</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos"> 97</span><span class="p">}</span>
<span class="linenos"> 98</span>
<span class="linenos"> 99</span><span class="n">block_return_loss_meas_vswr</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">100</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_8&quot;</span><span class="p">,</span>
<span class="linenos">101</span>    <span class="s2">&quot;f_params&quot;</span><span class="p">:</span> <span class="n">axis3_return_loss_meas_vswr</span><span class="p">,</span>
<span class="linenos">102</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;x&quot;</span><span class="p">]],</span>
<span class="linenos">103</span><span class="p">}</span>
<span class="linenos">104</span>
<span class="linenos">105</span><span class="n">axis4_forward_power_meas_dbw</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">106</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;axis14&quot;</span><span class="p">,</span>
<span class="linenos">107</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="n">watts2dbw</span><span class="p">(</span><span class="mf">10.0</span><span class="p">),</span>
<span class="linenos">108</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="n">watts2dbw</span><span class="p">(</span><span class="mf">100.0</span><span class="p">),</span>
<span class="linenos">109</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="o">-</span><span class="n">u</span><span class="p">,</span>
<span class="linenos">110</span>    <span class="s2">&quot;title_draw_center&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">111</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos">112</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos">113</span>    <span class="s2">&quot;title_distance_center&quot;</span><span class="p">:</span> <span class="mf">1.7</span><span class="p">,</span>
<span class="linenos">114</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">115</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual&quot;</span><span class="p">,</span>
<span class="linenos">116</span><span class="p">}</span>
<span class="linenos">117</span>
<span class="linenos">118</span><span class="n">axis5_reflected_power_meas_dbw</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">119</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;axis25&quot;</span><span class="p">,</span>
<span class="linenos">120</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="n">watts2dbw</span><span class="p">(</span><span class="mf">0.1</span><span class="p">),</span>
<span class="linenos">121</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="n">watts2dbw</span><span class="p">(</span><span class="mf">7.0</span><span class="p">),</span>
<span class="linenos">122</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">123</span>    <span class="s2">&quot;title_distance_center&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.7</span><span class="p">,</span>
<span class="linenos">124</span>    <span class="s2">&quot;title_draw_center&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">125</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos">126</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">127</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual&quot;</span><span class="p">,</span>
<span class="linenos">128</span><span class="p">}</span>
<span class="linenos">129</span>
<span class="linenos">130</span><span class="n">axis6_return_loss_meas_dbw1</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">131</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;axis36&quot;</span><span class="p">,</span>
<span class="linenos">132</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">7.0</span><span class="p">,</span>
<span class="linenos">133</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">30.0</span><span class="p">,</span>
<span class="linenos">134</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">135</span>    <span class="s2">&quot;title_distance_center&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos">136</span>    <span class="s2">&quot;title_draw_center&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">137</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos">138</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">139</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual&quot;</span><span class="p">,</span>
<span class="linenos">140</span><span class="p">}</span>
<span class="linenos">141</span>
<span class="linenos">142</span>
<span class="linenos">143</span><span class="n">block_measured_rl_dbw</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">144</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_1&quot;</span><span class="p">,</span>
<span class="linenos">145</span>    <span class="s2">&quot;f1_params&quot;</span><span class="p">:</span> <span class="n">axis4_forward_power_meas_dbw</span><span class="p">,</span>
<span class="linenos">146</span>    <span class="s2">&quot;f2_params&quot;</span><span class="p">:</span> <span class="n">axis5_reflected_power_meas_dbw</span><span class="p">,</span>
<span class="linenos">147</span>    <span class="s2">&quot;f3_params&quot;</span><span class="p">:</span> <span class="n">axis6_return_loss_meas_dbw1</span><span class="p">,</span>
<span class="linenos">148</span>    <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
<span class="linenos">149</span>    <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
<span class="linenos">150</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="n">watts2dbw</span><span class="p">(</span><span class="mi">60</span><span class="p">),</span> <span class="n">watts2dbw</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s2">&quot;x&quot;</span><span class="p">]],</span>
<span class="linenos">151</span><span class="p">}</span>
<span class="linenos">152</span>
<span class="linenos">153</span>
<span class="linenos">154</span><span class="n">axis8_return_loss_true_dbw</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">155</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;axis8-10&quot;</span><span class="p">,</span>
<span class="linenos">156</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">157</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">30.0</span><span class="p">,</span>
<span class="linenos">158</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="o">-</span><span class="n">u</span><span class="p">,</span>
<span class="linenos">159</span>    <span class="s2">&quot;title_draw_center&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">160</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos">161</span>    <span class="s2">&quot;title_distance_center&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos">162</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">163</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual&quot;</span><span class="p">,</span>
<span class="linenos">164</span><span class="p">}</span>
<span class="linenos">165</span>
<span class="linenos">166</span><span class="n">axis10_return_loss_true_vswr</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">167</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;axis8-10&quot;</span><span class="p">,</span>
<span class="linenos">168</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">1.2</span><span class="p">,</span>
<span class="linenos">169</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
<span class="linenos">170</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;VSWR (True)&quot;</span><span class="p">,</span>
<span class="linenos">171</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">vswr2rl</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos">172</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">vswr2rl</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos">173</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos">174</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos">175</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">176</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">177</span><span class="p">}</span>
<span class="linenos">178</span>
<span class="linenos">179</span><span class="n">block_return_loss_true_vswr</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">180</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_8&quot;</span><span class="p">,</span>
<span class="linenos">181</span>    <span class="s2">&quot;f_params&quot;</span><span class="p">:</span> <span class="n">axis10_return_loss_true_vswr</span><span class="p">,</span>
<span class="linenos">182</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;x&quot;</span><span class="p">]],</span>
<span class="linenos">183</span><span class="p">}</span>
<span class="linenos">184</span>
<span class="linenos">185</span>
<span class="linenos">186</span><span class="n">axis9_cable_loss</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">187</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;axis9&quot;</span><span class="p">,</span>
<span class="linenos">188</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos">189</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">190</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="o">-</span><span class="mf">2.0</span> <span class="o">*</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">191</span>    <span class="s2">&quot;title_distance_center&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span>
<span class="linenos">192</span>    <span class="s2">&quot;title_draw_center&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">193</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos">194</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">195</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual&quot;</span><span class="p">,</span>
<span class="linenos">196</span><span class="p">}</span>
<span class="linenos">197</span>
<span class="linenos">198</span><span class="n">block_true_rl_dbw</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">199</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_1&quot;</span><span class="p">,</span>
<span class="linenos">200</span>    <span class="s2">&quot;f1_params&quot;</span><span class="p">:</span> <span class="n">axis6_return_loss_meas_dbw1</span><span class="p">,</span>
<span class="linenos">201</span>    <span class="s2">&quot;f2_params&quot;</span><span class="p">:</span> <span class="n">axis8_return_loss_true_dbw</span><span class="p">,</span>
<span class="linenos">202</span>    <span class="s2">&quot;f3_params&quot;</span><span class="p">:</span> <span class="n">axis9_cable_loss</span><span class="p">,</span>
<span class="linenos">203</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">]],</span>
<span class="linenos">204</span><span class="p">}</span>
<span class="linenos">205</span>
<span class="linenos">206</span><span class="c1"># cable loss block using type 5</span>
<span class="linenos">207</span><span class="n">block_cable_loss</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">208</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_5&quot;</span><span class="p">,</span>
<span class="linenos">209</span>    <span class="s2">&quot;u_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">210</span>    <span class="s2">&quot;u_values&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">25.0</span><span class="p">,</span> <span class="mf">125.0</span><span class="p">,</span> <span class="mi">21</span><span class="p">)),</span>
<span class="linenos">211</span>    <span class="s2">&quot;u_scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual point&quot;</span><span class="p">,</span>
<span class="linenos">212</span>    <span class="s2">&quot;u_title_distance_center&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">213</span>    <span class="s2">&quot;u_title&quot;</span><span class="p">:</span> <span class="s2">&quot;Cable length (m)&quot;</span><span class="p">,</span>
<span class="linenos">214</span>    <span class="s2">&quot;v_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">x</span> <span class="o">/</span> <span class="n">cableloss</span><span class="p">(</span><span class="n">v</span><span class="p">),</span>
<span class="linenos">215</span>    <span class="s2">&quot;v_values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.75</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">28.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">,</span> <span class="mf">144.0</span><span class="p">,</span> <span class="mf">440.0</span><span class="p">],</span>
<span class="linenos">216</span>    <span class="s2">&quot;v_title&quot;</span><span class="p">:</span> <span class="s2">&quot;Freq (MHz)&quot;</span><span class="p">,</span>
<span class="linenos">217</span>    <span class="s2">&quot;wd_tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">218</span>    <span class="s2">&quot;wd_tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">219</span>    <span class="s2">&quot;wd_tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos">220</span>    <span class="s2">&quot;wd_title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;LMR400\textsuperscript{\textregistered} Cable Loss (db)&quot;</span><span class="p">,</span>
<span class="linenos">221</span>    <span class="s2">&quot;wd_title_opposite_tick&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">222</span>    <span class="s2">&quot;wd_tag&quot;</span><span class="p">:</span> <span class="s2">&quot;axis9&quot;</span><span class="p">,</span>
<span class="linenos">223</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">75</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">]],</span>
<span class="linenos">224</span><span class="p">}</span>
<span class="linenos">225</span>
<span class="linenos">226</span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">227</span>    <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">outputfile</span><span class="p">,</span>
<span class="linenos">228</span>    <span class="s2">&quot;paper_height&quot;</span><span class="p">:</span> <span class="mf">8.0</span> <span class="o">*</span> <span class="mf">2.54</span><span class="p">,</span>
<span class="linenos">229</span>    <span class="s2">&quot;paper_width&quot;</span><span class="p">:</span> <span class="mf">10.5</span> <span class="o">*</span> <span class="mf">2.54</span><span class="p">,</span>
<span class="linenos">230</span>    <span class="s2">&quot;block_params&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">231</span>        <span class="n">block_measured_rl_dbw</span><span class="p">,</span>
<span class="linenos">232</span>        <span class="n">block_true_rl_dbw</span><span class="p">,</span>
<span class="linenos">233</span>        <span class="n">block_reflected_watts</span><span class="p">,</span>
<span class="linenos">234</span>        <span class="n">block_forward_watts</span><span class="p">,</span>
<span class="linenos">235</span>        <span class="n">block_return_loss_meas_vswr</span><span class="p">,</span>
<span class="linenos">236</span>        <span class="n">block_return_loss_true_vswr</span><span class="p">,</span>
<span class="linenos">237</span>        <span class="n">block_cable_loss</span><span class="p">,</span>
<span class="linenos">238</span>    <span class="p">],</span>
<span class="linenos">239</span>    <span class="s2">&quot;transformations&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;rotate&quot;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;scale paper&quot;</span><span class="p">,)],</span>
<span class="linenos">240</span>    <span class="s2">&quot;title_str&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\huge \textbf{True VSWR as a result of cable attenuation for LMR400\textsuperscript{\textregistered}} </span><span class="se">\</span>
<span class="linenos">241</span><span class="s2">		\par\medskip \normalsize \copyright Daniel Boulet (2021)&quot;</span><span class="p">,</span>
<span class="linenos">242</span>    <span class="s2">&quot;title_x&quot;</span><span class="p">:</span> <span class="mf">7.0</span><span class="p">,</span>
<span class="linenos">243</span>    <span class="s2">&quot;title_y&quot;</span><span class="p">:</span> <span class="mf">19.0</span><span class="p">,</span>
<span class="linenos">244</span>    <span class="s2">&quot;title_box_width&quot;</span><span class="p">:</span> <span class="mf">12.0</span><span class="p">,</span>
<span class="linenos">245</span>    <span class="s2">&quot;extra_texts&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">246</span>        <span class="p">{</span>
<span class="linenos">247</span>            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">248</span>            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">16.5</span><span class="p">,</span>
<span class="linenos">249</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\noindent Calculate true VSWR by drawing </span><span class="se">\</span>
<span class="linenos">250</span><span class="s2">				a straight line from forward power axis through the reflected </span><span class="se">\</span>
<span class="linenos">251</span><span class="s2">				power axis to the measured VSWR axis. </span><span class="se">\</span>
<span class="linenos">252</span><span class="s2">				To compensate for cable loss draw straight line from </span><span class="se">\</span>
<span class="linenos">253</span><span class="s2">				measured VSWR to cable loss value.  True VSWR can be read at </span><span class="se">\</span>
<span class="linenos">254</span><span class="s2">				the intersection of true VWSR axis.&quot;</span><span class="p">,</span>
<span class="linenos">255</span>            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mf">12.0</span><span class="p">,</span>
<span class="linenos">256</span>        <span class="p">},</span>
<span class="linenos">257</span>        <span class="p">{</span>
<span class="linenos">258</span>            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos">259</span>            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span>
<span class="linenos">260</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\noindent \textbf</span><span class="si">{Example:}</span><span class="s2"> </span><span class="se">\</span>
<span class="linenos">261</span><span class="s2">				\par \noindent Measured forward and reflected power are </span><span class="se">\</span>
<span class="linenos">262</span><span class="s2">				60W and 5W respectively thus measured VSWR is 1.81:1. </span><span class="se">\</span>
<span class="linenos">263</span><span class="s2">				However 75m of LMR400\textsuperscript{\textregistered} will attenuate </span><span class="se">\</span>
<span class="linenos">264</span><span class="s2">				a 144MHz signal by 3.70 dB therefore true VSWR is 5.20:1.&quot;</span><span class="p">,</span>
<span class="linenos">265</span>            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mf">9.0</span><span class="p">,</span>
<span class="linenos">266</span>        <span class="p">},</span>
<span class="linenos">267</span>    <span class="p">],</span>
<span class="linenos">268</span>    <span class="c1"># &quot;make_grid&quot;: True,</span>
<span class="linenos">269</span><span class="p">}</span>
<span class="linenos">270</span><span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="return-loss-calculator">
<h2>Return Loss Calculator<a class="headerlink" href="#return-loss-calculator" title="Permalink to this headline">¶</a></h2>
<p>The Return Loss Calculator performs the same calculations as the True VSWR calculator but presents the results differently.  The Return Loss Calculator allows for direct conversion of VSWR to Return Loss and vice versa.  Two cable types are alos offered on the right-hand portion of the nomograph.  The frequency is choosen by amateur band.  Missing from this nomograph is the ability to calcuate VSWR from forward and reflected power readings.</p>
<section id="id18">
<h3>Nomograph<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/return_loss.png" src="../_images/return_loss.png" />
</section>
<section id="id19">
<h3>Source code<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  2</span><span class="sd">    return_loss.py</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="sd">    Nomogram to calculate VSWR at antenna given measured VSWR and feedline antenuation.</span>
<span class="linenos">  5</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  6</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos">  7</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos">  8</span><span class="kn">from</span> <span class="nn">pyx</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos">  9</span>
<span class="linenos"> 10</span><span class="n">outputfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span>
<span class="linenos"> 11</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="linenos"> 12</span><span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">LatexEngine</span><span class="p">)</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="kn">import</span> <span class="n">Nomographer</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="n">minimum_return_loss</span> <span class="o">=</span> <span class="mf">6.0</span>
<span class="linenos"> 17</span><span class="n">maximum_return_loss</span> <span class="o">=</span> <span class="mf">40.0</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span>
<span class="linenos"> 20</span><span class="c1"># functions to convert return loss to VSWR and vice-versa</span>
<span class="linenos"> 21</span>
<span class="linenos"> 22</span>
<span class="linenos"> 23</span><span class="k">def</span> <span class="nf">vswr2rl</span><span class="p">(</span><span class="n">vswr</span><span class="p">):</span>
<span class="linenos"> 24</span>    <span class="k">return</span> <span class="o">-</span><span class="mi">20</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">((</span><span class="n">vswr</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">vswr</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
<span class="linenos"> 25</span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span><span class="k">def</span> <span class="nf">rl2vswr</span><span class="p">(</span><span class="n">rl</span><span class="p">):</span>
<span class="linenos"> 28</span>    <span class="k">return</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="n">rl</span> <span class="o">/</span> <span class="mi">20</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mi">10</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="n">rl</span> <span class="o">/</span> <span class="mi">20</span><span class="p">))</span>
<span class="linenos"> 29</span>
<span class="linenos"> 30</span>
<span class="linenos"> 31</span><span class="c1"># main block items</span>
<span class="linenos"> 32</span>
<span class="linenos"> 33</span><span class="n">measured_rl</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 34</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;measured&quot;</span><span class="p">,</span>
<span class="linenos"> 35</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="n">minimum_return_loss</span><span class="p">,</span>
<span class="linenos"> 36</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="n">maximum_return_loss</span><span class="p">,</span>
<span class="linenos"> 37</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 38</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos"> 39</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;Return loss (dB)&quot;</span><span class="p">,</span>
<span class="linenos"> 40</span>    <span class="s2">&quot;title_relative_offset&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">),</span>
<span class="linenos"> 41</span>    <span class="s2">&quot;title_draw_center&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 42</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos"> 43</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 44</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 45</span>    <span class="s2">&quot;extra_titles&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 46</span>        <span class="p">{</span>
<span class="linenos"> 47</span>            <span class="s2">&quot;dx&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.2</span><span class="p">,</span>
<span class="linenos"> 48</span>            <span class="s2">&quot;dy&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 49</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\Large \textbf</span><span class="si">{Feedpoint}</span><span class="s2">&quot;</span><span class="p">,</span>
<span class="linenos"> 50</span>            <span class="c1"># &#39;width&#39;:5.0,</span>
<span class="linenos"> 51</span>        <span class="p">}</span>
<span class="linenos"> 52</span>    <span class="p">],</span>
<span class="linenos"> 53</span><span class="p">}</span>
<span class="linenos"> 54</span>
<span class="linenos"> 55</span>
<span class="linenos"> 56</span><span class="n">antenna_rl</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 57</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;antenna&quot;</span><span class="p">,</span>
<span class="linenos"> 58</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="linenos"> 59</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
<span class="linenos"> 60</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos"> 61</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="o">-</span><span class="n">u</span><span class="p">,</span>
<span class="linenos"> 62</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;Return loss (dB)&quot;</span><span class="p">,</span>
<span class="linenos"> 63</span>    <span class="s2">&quot;title_draw_center&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 64</span>    <span class="s2">&quot;extra_titles&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 65</span>        <span class="p">{</span>
<span class="linenos"> 66</span>            <span class="s2">&quot;dx&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.2</span><span class="p">,</span>
<span class="linenos"> 67</span>            <span class="s2">&quot;dy&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 68</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\Large \textbf</span><span class="si">{Antenna}</span><span class="s2">&quot;</span><span class="p">,</span>
<span class="linenos"> 69</span>            <span class="c1"># &#39;width&#39;:5.0,</span>
<span class="linenos"> 70</span>        <span class="p">}</span>
<span class="linenos"> 71</span>    <span class="p">],</span>
<span class="linenos"> 72</span>    <span class="s2">&quot;title_relative_offset&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">),</span>
<span class="linenos"> 73</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 74</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 75</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos"> 76</span><span class="p">}</span>
<span class="linenos"> 77</span>
<span class="linenos"> 78</span><span class="n">cable_loss</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 79</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;cable_loss&quot;</span><span class="p">,</span>
<span class="linenos"> 80</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos"> 81</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos"> 82</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos"> 83</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 84</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\Large \textbf{Attenuation (dB)}&quot;</span><span class="p">,</span>
<span class="linenos"> 85</span>    <span class="s2">&quot;title_relative_offset&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.5</span><span class="p">),</span>
<span class="linenos"> 86</span>    <span class="c1"># &quot;title_draw_center&quot;: True,</span>
<span class="linenos"> 87</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos"> 88</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 89</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 90</span>    <span class="c1"># &quot;extra_params&quot;: [</span>
<span class="linenos"> 91</span>    <span class="c1">#     {</span>
<span class="linenos"> 92</span>    <span class="c1">#         &quot;scale_type&quot;: &quot;manual arrow&quot;,</span>
<span class="linenos"> 93</span>    <span class="c1"># 		&#39;tick_side&#39;:&#39;right&#39;,</span>
<span class="linenos"> 94</span>    <span class="c1">#         &quot;manual_axis_data&quot;: {</span>
<span class="linenos"> 95</span>    <span class="c1">#             8.5: &quot;100ft LMR195 70cm band&quot;,</span>
<span class="linenos"> 96</span>    <span class="c1">#         },</span>
<span class="linenos"> 97</span>    <span class="c1">#     }</span>
<span class="linenos"> 98</span>    <span class="c1"># ],</span>
<span class="linenos"> 99</span><span class="p">}</span>
<span class="linenos">100</span>
<span class="linenos">101</span><span class="n">main_block</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">102</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_1&quot;</span><span class="p">,</span>
<span class="linenos">103</span>    <span class="s2">&quot;f1_params&quot;</span><span class="p">:</span> <span class="n">measured_rl</span><span class="p">,</span>
<span class="linenos">104</span>    <span class="s2">&quot;f3_params&quot;</span><span class="p">:</span> <span class="n">cable_loss</span><span class="p">,</span>
<span class="linenos">105</span>    <span class="s2">&quot;f2_params&quot;</span><span class="p">:</span> <span class="n">antenna_rl</span><span class="p">,</span>
<span class="linenos">106</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]],</span>
<span class="linenos">107</span>    <span class="s2">&quot;mirror_y&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">108</span><span class="p">}</span>
<span class="linenos">109</span>
<span class="linenos">110</span><span class="c1"># measured vswr items</span>
<span class="linenos">111</span><span class="n">measured_vswr</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">112</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;measured&quot;</span><span class="p">,</span>
<span class="linenos">113</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="n">rl2vswr</span><span class="p">(</span><span class="n">maximum_return_loss</span><span class="p">),</span>
<span class="linenos">114</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="n">rl2vswr</span><span class="p">(</span><span class="n">minimum_return_loss</span><span class="p">),</span>
<span class="linenos">115</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">vswr2rl</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos">116</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">vswr2rl</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos">117</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;VSWR&quot;</span><span class="p">,</span>
<span class="linenos">118</span>    <span class="s2">&quot;title_draw_center&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">119</span>    <span class="s2">&quot;title_relative_offset&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="linenos">120</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="linenos">121</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">122</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">123</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span>
<span class="linenos">124</span><span class="p">}</span>
<span class="linenos">125</span>
<span class="linenos">126</span><span class="n">measured_vswr_block</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">127</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_8&quot;</span><span class="p">,</span>
<span class="linenos">128</span>    <span class="s2">&quot;f_params&quot;</span><span class="p">:</span> <span class="n">measured_vswr</span><span class="p">,</span>
<span class="linenos">129</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">1.3</span><span class="p">]],</span>
<span class="linenos">130</span><span class="p">}</span>
<span class="linenos">131</span>
<span class="linenos">132</span><span class="c1"># antenna vswr items</span>
<span class="linenos">133</span>
<span class="linenos">134</span><span class="n">antenna_vswr</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">135</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;antenna&quot;</span><span class="p">,</span>
<span class="linenos">136</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="n">rl2vswr</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
<span class="linenos">137</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="n">rl2vswr</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span>
<span class="linenos">138</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">vswr2rl</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos">139</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">vswr2rl</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos">140</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;VSWR&quot;</span><span class="p">,</span>
<span class="linenos">141</span>    <span class="s2">&quot;title_relative_offset&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">),</span>
<span class="linenos">142</span>    <span class="s2">&quot;title_draw_center&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">143</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="linenos">144</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">145</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">146</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span>
<span class="linenos">147</span><span class="p">}</span>
<span class="linenos">148</span>
<span class="linenos">149</span><span class="n">antenna_vswr_block</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">150</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_8&quot;</span><span class="p">,</span>
<span class="linenos">151</span>    <span class="s2">&quot;f_params&quot;</span><span class="p">:</span> <span class="n">antenna_vswr</span><span class="p">,</span>
<span class="linenos">152</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;x&quot;</span><span class="p">]],</span>
<span class="linenos">153</span><span class="p">}</span>
<span class="linenos">154</span>
<span class="linenos">155</span><span class="c1"># cable loss items (type 2 block)</span>
<span class="linenos">156</span><span class="n">cable_loss_arrows</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">157</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;cable_loss&quot;</span><span class="p">,</span>
<span class="linenos">158</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos">159</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">160</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">161</span>    <span class="c1"># &quot;title&quot;: r&quot;cable loss&quot;,</span>
<span class="linenos">162</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">163</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">164</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual&quot;</span><span class="p">,</span>
<span class="linenos">165</span><span class="p">}</span>
<span class="linenos">166</span>
<span class="linenos">167</span><span class="n">loss_per_unit_length_lmr195</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">168</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;cable_type&quot;</span><span class="p">,</span>
<span class="linenos">169</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">170</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">30.0</span><span class="p">,</span>
<span class="linenos">171</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">172</span>    <span class="s2">&quot;align_function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">173</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;LMR195&quot;</span><span class="p">,</span>
<span class="linenos">174</span>    <span class="s2">&quot;title_rotate_text&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">175</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span>
<span class="linenos">176</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">,</span>
<span class="linenos">177</span>    <span class="c1"># &quot;title_draw_center&quot;: True,</span>
<span class="linenos">178</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">179</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos">180</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos">181</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual arrow&quot;</span><span class="p">,</span>
<span class="linenos">182</span>    <span class="s2">&quot;manual_axis_data&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">183</span>        <span class="mf">3.2</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;40m&quot;</span><span class="p">,</span>
<span class="linenos">184</span>        <span class="mf">4.5</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;20m&quot;</span><span class="p">,</span>
<span class="linenos">185</span>        <span class="mf">5.5</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;15m&quot;</span><span class="p">,</span>
<span class="linenos">186</span>        <span class="mf">6.4</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;10m&quot;</span><span class="p">,</span>
<span class="linenos">187</span>        <span class="mf">8.7</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;6m&quot;</span><span class="p">,</span>
<span class="linenos">188</span>        <span class="mf">14.5</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;2m&quot;</span><span class="p">,</span>
<span class="linenos">189</span>        <span class="mf">25.2</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;70cm&quot;</span><span class="p">,</span>
<span class="linenos">190</span>    <span class="p">},</span>
<span class="linenos">191</span>    <span class="c1"># &quot;title_relative_offset&quot;: (0, 0),</span>
<span class="linenos">192</span><span class="p">}</span>
<span class="linenos">193</span>
<span class="linenos">194</span><span class="n">loss_per_unit_length_lmr400</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">195</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;cable_type&quot;</span><span class="p">,</span>
<span class="linenos">196</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">197</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">30.0</span><span class="p">,</span>
<span class="linenos">198</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">199</span>    <span class="s2">&quot;align_function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">200</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;LMR400&quot;</span><span class="p">,</span>
<span class="linenos">201</span>    <span class="s2">&quot;title_rotate_text&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">202</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
<span class="linenos">203</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.8</span><span class="p">,</span>
<span class="linenos">204</span>    <span class="c1"># &quot;title_draw_center&quot;: True,</span>
<span class="linenos">205</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">206</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos">207</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;right&quot;</span><span class="p">,</span>
<span class="linenos">208</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;manual arrow&quot;</span><span class="p">,</span>
<span class="linenos">209</span>    <span class="s2">&quot;manual_axis_data&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="linenos">210</span>        <span class="mf">1.1</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;40m&quot;</span><span class="p">,</span>
<span class="linenos">211</span>        <span class="c1"># 1.5: r&quot;20m&quot;,</span>
<span class="linenos">212</span>        <span class="c1"># 1.9: r&quot;15m&quot;,</span>
<span class="linenos">213</span>        <span class="mf">2.2</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;10m&quot;</span><span class="p">,</span>
<span class="linenos">214</span>        <span class="mf">3.0</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;6m&quot;</span><span class="p">,</span>
<span class="linenos">215</span>        <span class="mf">5.0</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;2m&quot;</span><span class="p">,</span>
<span class="linenos">216</span>        <span class="mf">8.9</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;70cm&quot;</span><span class="p">,</span>
<span class="linenos">217</span>    <span class="p">},</span>
<span class="linenos">218</span>    <span class="c1"># &quot;title_relative_offset&quot;: (0, -2.5),</span>
<span class="linenos">219</span><span class="p">}</span>
<span class="linenos">220</span>
<span class="linenos">221</span><span class="n">length_meters</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">222</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;clength&quot;</span><span class="p">,</span>
<span class="linenos">223</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">224</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
<span class="linenos">225</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">,</span>
<span class="linenos">226</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;Meters&quot;</span><span class="p">,</span>
<span class="linenos">227</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">228</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">229</span>    <span class="s2">&quot;title_draw_center&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">230</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos">231</span>    <span class="s2">&quot;title_relative_offset&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">),</span>
<span class="linenos">232</span>    <span class="s2">&quot;extra_titles&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">233</span>        <span class="p">{</span>
<span class="linenos">234</span>            <span class="s2">&quot;dx&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">,</span>
<span class="linenos">235</span>            <span class="s2">&quot;dy&quot;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>
<span class="linenos">236</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\Large \textbf{Cable Length}&quot;</span><span class="p">,</span>
<span class="linenos">237</span>        <span class="p">}</span>
<span class="linenos">238</span>    <span class="p">],</span>
<span class="linenos">239</span><span class="p">}</span>
<span class="linenos">240</span>
<span class="linenos">241</span><span class="n">length_feet</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">242</span>    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;clength&quot;</span><span class="p">,</span>
<span class="linenos">243</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">10.0</span> <span class="o">/</span> <span class="mf">0.3048</span><span class="p">,</span>
<span class="linenos">244</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">100.0</span> <span class="o">/</span> <span class="mf">0.3048</span><span class="p">,</span>
<span class="linenos">245</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">246</span>    <span class="s2">&quot;align_func&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">*</span> <span class="mf">0.3048</span><span class="p">,</span>
<span class="linenos">247</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;Feet&quot;</span><span class="p">,</span>
<span class="linenos">248</span>    <span class="s2">&quot;title_draw_center&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">249</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">250</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">251</span>    <span class="s2">&quot;title_relative_offset&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.5</span><span class="p">),</span>
<span class="linenos">252</span><span class="p">}</span>
<span class="linenos">253</span><span class="n">cable_parameters</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">254</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_2&quot;</span><span class="p">,</span>
<span class="linenos">255</span>    <span class="c1"># &quot;width&quot;: 10.0,</span>
<span class="linenos">256</span>    <span class="c1"># &quot;height&quot;: 10.0,</span>
<span class="linenos">257</span>    <span class="s2">&quot;f1_params&quot;</span><span class="p">:</span> <span class="n">cable_loss_arrows</span><span class="p">,</span>
<span class="linenos">258</span>    <span class="s2">&quot;f2_params&quot;</span><span class="p">:</span> <span class="n">loss_per_unit_length_lmr195</span><span class="p">,</span>
<span class="linenos">259</span>    <span class="s2">&quot;f3_params&quot;</span><span class="p">:</span> <span class="n">length_meters</span><span class="p">,</span>
<span class="linenos">260</span>    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mf">6.4</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]],</span>
<span class="linenos">261</span><span class="p">}</span>
<span class="linenos">262</span>
<span class="linenos">263</span><span class="n">cable_parameters2</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">264</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_8&quot;</span><span class="p">,</span>
<span class="linenos">265</span>    <span class="s2">&quot;f_params&quot;</span><span class="p">:</span> <span class="n">loss_per_unit_length_lmr400</span><span class="p">,</span>
<span class="linenos">266</span>	<span class="s1">&#39;isopleth_values&#39;</span><span class="p">:[[</span><span class="s1">&#39;x&#39;</span><span class="p">]],</span>
<span class="linenos">267</span><span class="p">}</span>
<span class="linenos">268</span>
<span class="linenos">269</span><span class="n">cable_parameters3</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">270</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_8&quot;</span><span class="p">,</span>
<span class="linenos">271</span>    <span class="s2">&quot;f_params&quot;</span><span class="p">:</span> <span class="n">length_feet</span><span class="p">,</span>
<span class="linenos">272</span>	<span class="s1">&#39;isopleth_values&#39;</span><span class="p">:[[</span><span class="mi">150</span><span class="p">]],</span>
<span class="linenos">273</span><span class="p">}</span>
<span class="linenos">274</span>
<span class="linenos">275</span>
<span class="linenos">276</span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">277</span>    <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">outputfile</span><span class="p">,</span>
<span class="linenos">278</span>    <span class="s2">&quot;paper_height&quot;</span><span class="p">:</span> <span class="mf">8.0</span> <span class="o">*</span> <span class="mf">2.54</span><span class="p">,</span>
<span class="linenos">279</span>    <span class="s2">&quot;paper_width&quot;</span><span class="p">:</span> <span class="mf">10.5</span> <span class="o">*</span> <span class="mf">2.54</span><span class="p">,</span>
<span class="linenos">280</span>    <span class="c1"># &quot;block_params&quot;: [main_block],</span>
<span class="linenos">281</span>    <span class="s2">&quot;block_params&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">282</span>        <span class="n">main_block</span><span class="p">,</span>
<span class="linenos">283</span>        <span class="n">measured_vswr_block</span><span class="p">,</span>
<span class="linenos">284</span>        <span class="n">antenna_vswr_block</span><span class="p">,</span>
<span class="linenos">285</span>        <span class="n">cable_parameters</span><span class="p">,</span>
<span class="linenos">286</span>        <span class="n">cable_parameters2</span><span class="p">,</span>
<span class="linenos">287</span>        <span class="n">cable_parameters3</span><span class="p">,</span>
<span class="linenos">288</span>    <span class="p">],</span>
<span class="linenos">289</span>    <span class="c1"># &quot;block_params&quot;: [main_block,measured_vswr_block],</span>
<span class="linenos">290</span>    <span class="s2">&quot;transformations&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;rotate&quot;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;scale paper&quot;</span><span class="p">,)],</span>
<span class="linenos">291</span>    <span class="s2">&quot;title_str&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\huge \textbf{VSWR reduction due to cable attenuation}&quot;</span><span class="p">,</span>
<span class="linenos">292</span>    <span class="s2">&quot;title_x&quot;</span><span class="p">:</span> <span class="mf">18.0</span><span class="p">,</span>
<span class="linenos">293</span>    <span class="s2">&quot;title_y&quot;</span><span class="p">:</span> <span class="mf">20.5</span><span class="p">,</span>
<span class="linenos">294</span>    <span class="s2">&quot;extra_texts&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">295</span>        <span class="p">{</span>
<span class="linenos">296</span>            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span>
<span class="linenos">297</span>            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">19.0</span><span class="p">,</span>
<span class="linenos">298</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span><span class="sa">r</span><span class="s2">&quot;\noindent \textbf{How to use:} </span><span class="se">\</span>
<span class="linenos">299</span><span class="s2">				\par \medskip \noindent Draw a straight line from the \textit{Cable Length} axis through the appropriate cable and frequency band  to the \textit</span><span class="si">{Attenuation}</span><span class="s2"> axis. Draw a second line from the measured VSWR or return loss value on the \textit</span><span class="si">{Feedpoint}</span><span class="s2"> axis to the intersection of the first line and the \textit</span><span class="si">{Attenuation}</span><span class="s2"> axis.  Read the actual antenna VSWR or return loss on the \textit</span><span class="si">{Antenna}</span><span class="s2"> axis. </span><span class="se">\</span>
<span class="linenos">300</span><span class="s2">				\par \medskip \noindent  \copyright Daniel Boulet (2021)&quot;</span><span class="p">,</span>
<span class="linenos">301</span>            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mf">9.0</span><span class="p">,</span>
<span class="linenos">302</span>        <span class="p">},</span>
<span class="linenos">303</span>    <span class="p">],</span>
<span class="linenos">304</span>    <span class="s2">&quot;debug&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="linenos">305</span>    <span class="c1"># &quot;make_grid&quot;: True,</span>
<span class="linenos">306</span><span class="p">}</span>
<span class="linenos">307</span>
<span class="linenos">308</span><span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="simple-annuity">
<h2>Simple Annuity<a class="headerlink" href="#simple-annuity" title="Permalink to this headline">¶</a></h2>
<p>The following nomograph is related to the <a class="reference external" href="http://lefakkomies.github.io/pynomo-doc/examples/examples.html#example-amortized-loan-calculator">amortized loan calculator example in the PyNomo documentation</a>.  However, rather than calculate outflow of cash of a loan, the nomograph below calculates inflow of cash of a fixed annuity.</p>
<section id="id20">
<h3>Nomograph<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/simple_annuity.png" src="../_images/simple_annuity.png" />
</section>
<section id="id21">
<h3>Source code<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  2</span><span class="sd">    simple_annuity.py</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="sd">    ---</span>
<span class="linenos">  5</span><span class="sd">    You should have received a copy of the GNU General Public License</span>
<span class="linenos">  6</span><span class="sd">    along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<span class="linenos">  7</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  8</span>
<span class="linenos">  9</span><span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos"> 12</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 13</span><span class="n">outputfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="c1"># allows use of latex commands in PyX such as \frac{a}{b} and \par</span>
<span class="linenos"> 16</span><span class="kn">from</span> <span class="nn">pyx</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 17</span><span class="n">pyx</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">LatexEngine</span><span class="p">)</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span>
<span class="linenos"> 20</span><span class="k">def</span> <span class="nf">annuity</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">u</span><span class="p">):</span>
<span class="linenos"> 21</span>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span>
<span class="linenos"> 22</span>        <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">/</span><span class="p">(</span><span class="n">u</span><span class="o">/</span><span class="mf">1200.0</span><span class="o">-</span><span class="n">x</span><span class="p">))</span>
<span class="linenos"> 23</span>        <span class="o">/</span>
<span class="linenos"> 24</span>        <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">u</span><span class="o">/</span><span class="mf">1200.0</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos"> 25</span>    <span class="p">)</span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span>
<span class="linenos"> 28</span><span class="n">block_1_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 29</span>    <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos"> 30</span>    <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
<span class="linenos"> 31</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_5&#39;</span><span class="p">,</span>
<span class="linenos"> 32</span>    <span class="s1">&#39;u_func&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">u</span><span class="o">*</span><span class="mf">12.0</span><span class="p">),</span>
<span class="linenos"> 33</span>    <span class="s1">&#39;v_func&#39;</span><span class="p">:</span> <span class="n">annuity</span><span class="p">,</span>
<span class="linenos"> 34</span>    <span class="s1">&#39;u_values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">11.0</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span> <span class="mf">13.0</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">25.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">,</span> <span class="mf">60.0</span><span class="p">],</span>
<span class="linenos"> 35</span>    <span class="s1">&#39;v_values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">],</span>
<span class="linenos"> 36</span>    <span class="s1">&#39;wd_tag&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
<span class="linenos"> 37</span>    <span class="s1">&#39;u_title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\large Years&#39;</span><span class="p">,</span>
<span class="linenos"> 38</span>    <span class="s1">&#39;v_title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\large Yield = &#39;</span><span class="p">,</span>
<span class="linenos"> 39</span>    <span class="s1">&#39;u_text_format&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$</span><span class="si">%3.0f</span><span class="s2">$ &quot;</span><span class="p">,</span>
<span class="linenos"> 40</span>    <span class="s1">&#39;v_text_format&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$</span><span class="si">%3.0f</span><span class="s2">$ \</span><span class="si">%%</span><span class="s2"> &quot;</span><span class="p">,</span>
<span class="linenos"> 41</span>    <span class="s1">&#39;vertical_guide_nr&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="linenos"> 42</span>    <span class="s1">&#39;horizontal_guides&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="linenos"> 43</span>    <span class="s1">&#39;v_title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 44</span>    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="mf">8.5</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">]],</span> <span class="c1">#[&#39;years&#39;,&#39;yield&#39;,&#39;ratio&#39;]</span>
<span class="linenos"> 45</span><span class="p">}</span>
<span class="linenos"> 46</span>
<span class="linenos"> 47</span><span class="c1"># this is non-obvious trick to find bottom edge coordinates of the grid in order</span>
<span class="linenos"> 48</span><span class="c1"># to align it with N nomogram</span>
<span class="linenos"> 49</span><span class="n">block1_dummy</span> <span class="o">=</span> <span class="n">Nomo_Block_Type_5</span><span class="p">(</span><span class="n">mirror_x</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 50</span><span class="n">block1_dummy</span><span class="o">.</span><span class="n">define_block</span><span class="p">(</span><span class="n">block_1_params</span><span class="p">)</span>
<span class="linenos"> 51</span><span class="n">block1_dummy</span><span class="o">.</span><span class="n">set_block</span><span class="p">()</span>
<span class="linenos"> 52</span>
<span class="linenos"> 53</span><span class="c1"># Let&#39;s define the N-nomogram</span>
<span class="linenos"> 54</span><span class="n">N_params_3</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 55</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="n">block1_dummy</span><span class="o">.</span><span class="n">grid_box</span><span class="o">.</span><span class="n">params_wd</span><span class="p">[</span><span class="s1">&#39;u_min&#39;</span><span class="p">],</span>
<span class="linenos"> 56</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="n">block1_dummy</span><span class="o">.</span><span class="n">grid_box</span><span class="o">.</span><span class="n">params_wd</span><span class="p">[</span><span class="s1">&#39;u_max&#39;</span><span class="p">],</span>
<span class="linenos"> 57</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 58</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="linenos"> 59</span>    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
<span class="linenos"> 60</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span>
<span class="linenos"> 61</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 62</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 63</span>    <span class="s1">&#39;reference&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="linenos"> 64</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos"> 65</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos"> 66</span>    <span class="c1"># &#39;title_draw_center&#39;: True</span>
<span class="linenos"> 67</span><span class="p">}</span>
<span class="linenos"> 68</span><span class="n">N_params_2</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 69</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
<span class="linenos"> 70</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">1000.0</span><span class="p">,</span>
<span class="linenos"> 71</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 72</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\large Lump sum (in thousands)&#39;</span><span class="p">,</span>
<span class="linenos"> 73</span>    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>
<span class="linenos"> 74</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
<span class="linenos"> 75</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 76</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 77</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 78</span>    <span class="s1">&#39;grid_length_1&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 79</span>    <span class="s1">&#39;grid_length_2&#39;</span><span class="p">:</span> <span class="mf">0.35</span><span class="p">,</span>
<span class="linenos"> 80</span>    <span class="s1">&#39;grid_length_3&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span>
<span class="linenos"> 81</span>    <span class="s1">&#39;text_distance_1&#39;</span><span class="p">:</span> <span class="mf">0.55</span><span class="p">,</span>
<span class="linenos"> 82</span>    <span class="s1">&#39;text_format&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$\$</span><span class="si">%3.0f</span><span class="s2">$ &quot;</span><span class="p">,</span>
<span class="linenos"> 83</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos"> 84</span><span class="p">}</span>
<span class="linenos"> 85</span><span class="n">N_params_1</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 86</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">1000.0</span><span class="p">,</span>
<span class="linenos"> 87</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">5000.0</span><span class="p">,</span>
<span class="linenos"> 88</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">/</span><span class="mf">1000.0</span><span class="p">,</span>
<span class="linenos"> 89</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\large Monthly withdrawal&#39;</span><span class="p">,</span>
<span class="linenos"> 90</span>    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>
<span class="linenos"> 91</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos"> 92</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span>
<span class="linenos"> 93</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 94</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 95</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 96</span>    <span class="s1">&#39;grid_length_1&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 97</span>    <span class="s1">&#39;grid_length_2&#39;</span><span class="p">:</span> <span class="mf">0.35</span><span class="p">,</span>
<span class="linenos"> 98</span>    <span class="s1">&#39;grid_length_3&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span>
<span class="linenos"> 99</span>    <span class="s1">&#39;text_distance_1&#39;</span><span class="p">:</span> <span class="mf">0.55</span><span class="p">,</span>
<span class="linenos">100</span>    <span class="s1">&#39;text_format&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$\$</span><span class="si">%3.0f</span><span class="s2">$ &quot;</span><span class="p">,</span>
<span class="linenos">101</span>
<span class="linenos">102</span><span class="p">}</span>
<span class="linenos">103</span>
<span class="linenos">104</span><span class="n">block_2_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">105</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
<span class="linenos">106</span>    <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">107</span>    <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
<span class="linenos">108</span>    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">N_params_1</span><span class="p">,</span>    <span class="c1"># withdrawal</span>
<span class="linenos">109</span>    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">N_params_2</span><span class="p">,</span>    <span class="c1"># lump sum (in thousands)</span>
<span class="linenos">110</span>    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">N_params_3</span><span class="p">,</span>    <span class="c1"># curve</span>
<span class="linenos">111</span>    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mf">3198.25</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]]</span>
<span class="linenos">112</span><span class="p">}</span>
<span class="linenos">113</span>
<span class="linenos">114</span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">115</span>    <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="n">outputfile</span><span class="p">,</span>
<span class="linenos">116</span>    <span class="s1">&#39;paper_height&#39;</span><span class="p">:</span> <span class="mf">2.54</span><span class="o">*</span><span class="mi">11</span><span class="p">,</span>
<span class="linenos">117</span>    <span class="s1">&#39;paper_width&#39;</span><span class="p">:</span> <span class="mf">2.54</span><span class="o">*</span><span class="mf">8.5</span><span class="p">,</span>
<span class="linenos">118</span>    <span class="c1"># &#39;make_grid&#39;: True,</span>
<span class="linenos">119</span>    <span class="s1">&#39;block_params&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">block_1_params</span><span class="p">,</span> <span class="n">block_2_params</span><span class="p">],</span>
<span class="linenos">120</span>    <span class="s1">&#39;transformations&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;scale paper&#39;</span><span class="p">,)],</span>
<span class="linenos">121</span>    <span class="s1">&#39;title_str&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\textbf{\huge Annuity Calculator}&#39;</span><span class="p">,</span>
<span class="linenos">122</span>    <span class="s1">&#39;title_x&#39;</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span>
<span class="linenos">123</span>    <span class="s1">&#39;title_y&#39;</span><span class="p">:</span> <span class="mi">29</span><span class="p">,</span>
<span class="linenos">124</span>    <span class="s1">&#39;title_box_width&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
<span class="linenos">125</span>    <span class="s1">&#39;extra_texts&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">126</span>        <span class="p">{</span>
<span class="linenos">127</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\copyright Daniel Boulet (2018-2020)&#39;</span><span class="p">,</span>
<span class="linenos">128</span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">16.5</span><span class="p">,</span>
<span class="linenos">129</span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">2.5</span><span class="p">,</span>
<span class="linenos">130</span>        <span class="p">},</span>
<span class="linenos">131</span>        <span class="p">{</span>
<span class="linenos">132</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\noindent \textbf{How long will your money last?} </span><span class="se">\</span>
<span class="linenos">133</span><span class="s1">                You can withdraw \$3000 per month from your \$500,000 </span><span class="se">\</span>
<span class="linenos">134</span><span class="s1">                    initial investment for 30 years if your investments earn 6\</span><span class="si">% i</span><span class="s1">nterest.&#39;</span><span class="p">,</span>
<span class="linenos">135</span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">136</span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">137</span>            <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
<span class="linenos">138</span>        <span class="p">},</span>
<span class="linenos">139</span>        <span class="p">{</span>
<span class="linenos">140</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\noindent \textbf{How much savings do I need?} </span><span class="se">\</span>
<span class="linenos">141</span><span class="s1">                You will need an initial investment of \$400,000 earning 8.5\% </span><span class="se">\</span>
<span class="linenos">142</span><span class="s1">                    if you want to withdraw \$3200 per month for 25 years.&#39;</span><span class="p">,</span>
<span class="linenos">143</span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span>
<span class="linenos">144</span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="linenos">145</span>            <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
<span class="linenos">146</span>        <span class="p">},</span>
<span class="linenos">147</span>    <span class="p">],</span>
<span class="linenos">148</span>
<span class="linenos">149</span><span class="p">}</span>
<span class="linenos">150</span><span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="gasoline-price-compare">
<h2>Gasoline Price Compare<a class="headerlink" href="#gasoline-price-compare" title="Permalink to this headline">¶</a></h2>
<section id="background">
<h3>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h3>
<p>Comparing the unit price of a commodity with different units of measure
and currencies is greatly simplified with a nomograph.  In this example,
cross-border travellers between the United States and Canada can easily
compare the cost of gasoline (petrol) on both sides of the border.  Moreover, by
drawing an isopleth through the currency rate at par (1.0000) they can
directly convert dollars per litre to dollars per USG.  This nomograph
implements the following formula:</p>
<p><span class="math notranslate nohighlight">\(\frac{CAD}{L} =  \frac{CAD}{USD} \times \frac{USD}{US Gal} \div \frac{L}{US Gal}\)</span></p>
<p>This equation follows the form of a <strong>Type 2</strong> nomograph where:</p>
<p><span class="math notranslate nohighlight">\(F_1(u_1) = \frac{CAD}{L}\)</span>,</p>
<p><span class="math notranslate nohighlight">\(F_2(u_2) = \frac{CAD}{USD}\)</span></p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(F_3(u_3) = \frac{USD}{US Gal} \div 3.78541 \frac{L}{US Gal}\)</span></p>
</section>
<section id="id22">
<h3>Generated nomograph<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/gasolinepricesUSD_CAD.png" src="../_images/gasolinepricesUSD_CAD.png" />
</section>
<section id="id23">
<h3>Source code<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 2</span><span class="sd">    gasolinepricesUSD_CAD.py</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="sd">    Gasoline price converter</span>
<span class="linenos"> 5</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 8</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos"> 9</span><span class="kn">from</span> <span class="nn">pyx</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="linenos">12</span><span class="n">outputfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="c1"># allows use of latex commands in PyX such as \frac{a}{b} and \par</span>
<span class="linenos">15</span><span class="n">pyx</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">LatexEngine</span><span class="p">)</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="n">N_params_1</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">18</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">,</span>
<span class="linenos">19</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">1.6</span><span class="p">,</span>
<span class="linenos">20</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">21</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$\frac</span><span class="si">{CAD}{L}</span><span class="s2">$&quot;</span><span class="p">,</span>
<span class="linenos">22</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">23</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">24</span>    <span class="s2">&quot;text_format&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$\$</span><span class="si">%3.3f</span><span class="s2">$&quot;</span><span class="p">,</span>
<span class="linenos">25</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">26</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos">27</span><span class="p">}</span>
<span class="linenos">28</span>
<span class="linenos">29</span><span class="n">N_params_2</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">30</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">31</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos">32</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">33</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$\frac</span><span class="si">{CAD}{USD}</span><span class="s2">$&quot;</span><span class="p">,</span>
<span class="linenos">34</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">35</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">36</span>    <span class="s2">&quot;text_format&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$</span><span class="si">%3.4f</span><span class="s2">$&quot;</span><span class="p">,</span>
<span class="linenos">37</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">38</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">39</span>    <span class="s2">&quot;title_rotate_text&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">40</span><span class="p">}</span>
<span class="linenos">41</span>
<span class="linenos">42</span><span class="n">N_params_3</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">43</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span>
<span class="linenos">44</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
<span class="linenos">45</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">/</span> <span class="mf">3.78541</span><span class="p">,</span>
<span class="linenos">46</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$\frac</span><span class="si">{USD}</span><span class="s2">{US Gal}$&quot;</span><span class="p">,</span>
<span class="linenos">47</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos">48</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos">49</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">50</span>    <span class="s2">&quot;text_format&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$\$</span><span class="si">%3.3f</span><span class="s2">$&quot;</span><span class="p">,</span>
<span class="linenos">51</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;linear smart&quot;</span><span class="p">,</span>
<span class="linenos">52</span><span class="p">}</span>
<span class="linenos">53</span>
<span class="linenos">54</span>
<span class="linenos">55</span><span class="n">block_1_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">56</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_2&quot;</span><span class="p">,</span>
<span class="linenos">57</span>    <span class="s2">&quot;f1_params&quot;</span><span class="p">:</span> <span class="n">N_params_1</span><span class="p">,</span>
<span class="linenos">58</span>    <span class="s2">&quot;f2_params&quot;</span><span class="p">:</span> <span class="n">N_params_2</span><span class="p">,</span>
<span class="linenos">59</span>    <span class="s2">&quot;f3_params&quot;</span><span class="p">:</span> <span class="n">N_params_3</span><span class="p">,</span>
<span class="linenos">60</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">]],</span>
<span class="linenos">61</span><span class="p">}</span>
<span class="linenos">62</span>
<span class="linenos">63</span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">64</span>    <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="n">outputfile</span><span class="p">,</span>
<span class="linenos">65</span>    <span class="s2">&quot;paper_height&quot;</span><span class="p">:</span> <span class="mf">11.0</span> <span class="o">*</span> <span class="mf">2.54</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="linenos">66</span>    <span class="s2">&quot;paper_width&quot;</span><span class="p">:</span> <span class="mf">8.5</span> <span class="o">*</span> <span class="mf">2.54</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="linenos">67</span>    <span class="s2">&quot;block_params&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">block_1_params</span><span class="p">],</span>
<span class="linenos">68</span>    <span class="s2">&quot;transformations&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;rotate&quot;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;scale paper&quot;</span><span class="p">,)],</span>
<span class="linenos">69</span>    <span class="s2">&quot;title_str&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\huge \textbf{Gas Price Converter}&quot;</span><span class="p">,</span>
<span class="linenos">70</span>    <span class="s2">&quot;title_y&quot;</span><span class="p">:</span> <span class="mf">13.50</span><span class="p">,</span>
<span class="linenos">71</span>    <span class="s2">&quot;title_box_width&quot;</span><span class="p">:</span> <span class="mf">15.0</span><span class="p">,</span>
<span class="linenos">72</span>    <span class="s2">&quot;extra_texts&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">73</span>        <span class="p">{</span>
<span class="linenos">74</span>            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">75</span>            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">12.5</span><span class="p">,</span>
<span class="linenos">76</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\noindent Is gasoline cheaper </span><span class="se">\</span>
<span class="linenos">77</span><span class="s2">                south of the 49\textsuperscript</span><span class="si">{th}</span><span class="s2">? Use this gas price </span><span class="se">\</span>
<span class="linenos">78</span><span class="s2">                converter to be sure. In the example </span><span class="se">\</span>
<span class="linenos">79</span><span class="s2">                shown, \$1.300 $\frac</span><span class="si">{CAD}{L}</span><span class="s2">$ is the same price as \$3.52 $\frac</span><span class="si">{USD}</span><span class="s2">{US Gal}$ if the exchange rate is 1.40  $\frac</span><span class="si">{CAD}{USD}</span><span class="s2">$.&quot;</span><span class="p">,</span>
<span class="linenos">80</span>            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mf">8.0</span><span class="p">,</span>
<span class="linenos">81</span>        <span class="p">},</span>
<span class="linenos">82</span>        <span class="p">{</span>
<span class="linenos">83</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\copyright Daniel Boulet (2019-2021)&quot;</span><span class="p">,</span>
<span class="linenos">84</span>            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span>
<span class="linenos">85</span>            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">,</span>
<span class="linenos">86</span>        <span class="p">},</span>
<span class="linenos">87</span>    <span class="p">],</span>
<span class="linenos">88</span>    <span class="c1"># &#39;make_grid&#39;: True</span>
<span class="linenos">89</span><span class="p">}</span>
<span class="linenos">90</span><span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="bicycle-cadence">
<h2>Bicycle Cadence<a class="headerlink" href="#bicycle-cadence" title="Permalink to this headline">¶</a></h2>
<section id="id24">
<h3>Theory and background<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<p>Choosing the correct gears on a bicycle allows a cyclist to maintain a comfortable cadence.  A higher
cadence helps reduce muscle fatigue <span id="id25">[<a class="reference internal" href="../bibliography/bibliography.html#id22" title="What to consider when finding your ideal cycling cadence. Dec 2021. URL: https://www.trainingpeaks.com/blog/what-to-consider-when-finding-your-ideal-cycling-cadence/.">tra21</a>]</span> though it does put more stress on heart and
lungs.  However a lower cadence for the same power output puts more stress on the rider’s knees,
hips and back. <span id="id26">[<a class="reference internal" href="../bibliography/bibliography.html#id23" title="Cycling cadence - what is it and why you should keep a close eye on yours? Mar 2021. URL: https://thebodymechanic.com.au/cycling-cadence-what-is-it-and-why-you-should-keep-a-close-eye-on-yours/.">the21</a>]</span> Furthermore, cycling cadence will vary widely with beginning cyclists peddling more
slowly (60-85 rpm) and professionals exceeding 100 rpm under certain conditions.
Generally, a good cadence in cycling is between 80-100 rpm. <span id="id27">[<a class="reference internal" href="../bibliography/bibliography.html#id25" title="Sean Hurley. Cycling Cadence: What Is It, What's Most Efficient, and Cadence Drills To Make You Faster - TrainerRoad Blog. October 2021. URL: https://www.trainerroad.com/blog/whats-the-most-efficient-cycling-cadence-and-how-cadence-drills-can-make-you-faster/ (visited on 2021-12-31).">Hur21</a>]</span> The
correct gear ratio can help the rider maximize their speed with a comfortable cadence.</p>
<p>A bicycle’s speed is the product of the wheel diameter (e.g. 700mm),
the wheel’s rotation rate (in rpm) and <span class="math notranslate nohighlight">\(\pi\)</span>. The wheel’s rotation rate is a function of
the rider’s cadence and the front to rear gear ratio. As in the previous example, pairs
of discrete values such as the number of teeth on the front and rear sprockets are
easily represented on a <strong>Type 5</strong> block.  This nomograph combines a <strong>Type 5</strong> block (to
calculate gearing ratio) with a pair of <strong>Type 2</strong> blocks to calculate the rider’s
speed given their cadence and gear settings.</p>
</section>
<section id="id28">
<h3>Nomograph<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/bicycle_cadence.png" src="../_images/bicycle_cadence.png" />
</section>
<section id="id29">
<h3>Source code<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  2</span><span class="sd">    bicycle_cadence.py</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="sd">    Bicycle gearing cadence and speed calculator</span>
<span class="linenos">  5</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  6</span><span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos">  7</span><span class="kn">from</span> <span class="nn">pyx</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos">  8</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos">  9</span><span class="n">outputfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="linenos"> 12</span><span class="n">pyx</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">LatexEngine</span><span class="p">)</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span>
<span class="linenos"> 15</span><span class="n">gearing</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 16</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_5&#39;</span><span class="p">,</span>
<span class="linenos"> 17</span>    <span class="s1">&#39;wd_tag&#39;</span><span class="p">:</span> <span class="s1">&#39;ratio&#39;</span><span class="p">,</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span>    <span class="s1">&#39;u_func&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 20</span>    <span class="s1">&#39;v_func&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="o">/</span><span class="n">x</span><span class="p">,</span>
<span class="linenos"> 21</span>
<span class="linenos"> 22</span>	<span class="c1"># teeth on rear cage</span>
<span class="linenos"> 23</span>    <span class="s1">&#39;u_values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">12.0</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">16.0</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">,</span> <span class="mf">21.0</span><span class="p">,</span> <span class="mf">24.0</span><span class="p">,</span> <span class="mf">28.0</span><span class="p">],</span>
<span class="linenos"> 24</span>    <span class="s1">&#39;u_scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;manual point&#39;</span><span class="p">,</span>
<span class="linenos"> 25</span>    <span class="s1">&#39;u_manual_axis_data&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mf">12.0</span><span class="p">:</span> <span class="s1">&#39;7&#39;</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">:</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="mf">16.0</span><span class="p">:</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">:</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="mf">21.0</span><span class="p">:</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="mf">24.0</span><span class="p">:</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="mf">28.0</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">},</span>
<span class="linenos"> 26</span>    <span class="s1">&#39;u_title&#39;</span><span class="p">:</span> <span class="s1">&#39;Rear cage&#39;</span><span class="p">,</span>
<span class="linenos"> 27</span>
<span class="linenos"> 28</span>	<span class="c1"># teeth on front derailer</span>
<span class="linenos"> 29</span>    <span class="s1">&#39;v_values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">28.0</span><span class="p">,</span> <span class="mf">38.0</span><span class="p">,</span> <span class="mf">48.0</span><span class="p">],</span>
<span class="linenos"> 30</span>    <span class="s1">&#39;v_scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;manual point&#39;</span><span class="p">,</span>
<span class="linenos"> 31</span>    <span class="s1">&#39;v_manual_axis_data&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mf">28.0</span><span class="p">:</span> <span class="s1">&#39;Small&#39;</span><span class="p">,</span> <span class="mf">38.0</span><span class="p">:</span> <span class="s1">&#39;Medium&#39;</span><span class="p">,</span> <span class="mf">48.0</span><span class="p">:</span> <span class="s1">&#39;Large&#39;</span><span class="p">},</span>
<span class="linenos"> 32</span>
<span class="linenos"> 33</span>    <span class="s1">&#39;wd_tick_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 34</span>    <span class="s1">&#39;wd_tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 35</span>    <span class="s1">&#39;wd_tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span>
<span class="linenos"> 36</span>    <span class="s1">&#39;wd_title_opposite_tick&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 37</span>    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">14.0</span><span class="p">,</span> <span class="mf">38.0</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]],</span>
<span class="linenos"> 38</span>
<span class="linenos"> 39</span><span class="p">}</span>
<span class="linenos"> 40</span>
<span class="linenos"> 41</span>
<span class="linenos"> 42</span><span class="n">wheelrpm</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 43</span>    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;wheelrpm&#39;</span><span class="p">,</span>
<span class="linenos"> 44</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">90.0</span><span class="p">,</span>
<span class="linenos"> 45</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">360.0</span><span class="p">,</span>
<span class="linenos"> 46</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;manual point&#39;</span><span class="p">,</span>
<span class="linenos"> 47</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 48</span><span class="p">}</span>
<span class="linenos"> 49</span>
<span class="linenos"> 50</span><span class="n">crankrpm</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 51</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">60.0</span><span class="p">,</span>
<span class="linenos"> 52</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">120.0</span><span class="p">,</span>
<span class="linenos"> 53</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 54</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\large \slshape Cadence (RPM)&#39;</span><span class="p">,</span>
<span class="linenos"> 55</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 56</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 57</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos"> 58</span>	<span class="s1">&#39;tick_side&#39;</span><span class="p">:</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
<span class="linenos"> 59</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 60</span>    <span class="c1"># &#39;title_distance_center&#39;: -0.5,</span>
<span class="linenos"> 61</span><span class="p">}</span>
<span class="linenos"> 62</span>
<span class="linenos"> 63</span><span class="n">ratio</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 64</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;manual point&#39;</span><span class="p">,</span>
<span class="linenos"> 65</span>    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;ratio&#39;</span><span class="p">,</span>
<span class="linenos"> 66</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos"> 67</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
<span class="linenos"> 68</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 69</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 70</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 71</span><span class="p">}</span>
<span class="linenos"> 72</span>
<span class="linenos"> 73</span>
<span class="linenos"> 74</span><span class="n">rotation</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 75</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
<span class="linenos"> 76</span>    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">wheelrpm</span><span class="p">,</span>
<span class="linenos"> 77</span>    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">crankrpm</span><span class="p">,</span>
<span class="linenos"> 78</span>    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">ratio</span><span class="p">,</span>
<span class="linenos"> 79</span>    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]],</span>
<span class="linenos"> 80</span><span class="p">}</span>
<span class="linenos"> 81</span>
<span class="linenos"> 82</span>
<span class="linenos"> 83</span><span class="n">speed</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 84</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">15.0</span><span class="p">,</span>
<span class="linenos"> 85</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">45.0</span><span class="p">,</span>
<span class="linenos"> 86</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos"> 87</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\large \slshape Speed (km/hour)&#39;</span><span class="p">,</span>
<span class="linenos"> 88</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 89</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 90</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos"> 91</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 92</span>    <span class="s1">&#39;title_distance_center&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 93</span><span class="p">}</span>
<span class="linenos"> 94</span>
<span class="linenos"> 95</span><span class="n">diameter</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 96</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">600.0</span><span class="p">,</span>
<span class="linenos"> 97</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">800.0</span><span class="p">,</span>
<span class="linenos"> 98</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">*</span><span class="mf">3.1415927</span><span class="o">*</span><span class="mf">60.0</span><span class="o">/</span><span class="mf">1000000.0</span><span class="p">,</span>
<span class="linenos"> 99</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Wheel Diameter (mm)&#39;</span><span class="p">,</span>
<span class="linenos">100</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos">101</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="linenos">102</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos">103</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">104</span>    <span class="s1">&#39;title_distance_center&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">105</span>
<span class="linenos">106</span><span class="p">}</span>
<span class="linenos">107</span>
<span class="linenos">108</span><span class="n">wheelrpm2</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">109</span>    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;wheelrpm&#39;</span><span class="p">,</span>
<span class="linenos">110</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">90.0</span><span class="p">,</span>
<span class="linenos">111</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">360.0</span><span class="p">,</span>
<span class="linenos">112</span>    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
<span class="linenos">113</span>    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="linenos">114</span>
<span class="linenos">115</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\large \slshape Wheel RPM&#39;</span><span class="p">,</span>
<span class="linenos">116</span>    <span class="s1">&#39;title_x_shift&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">18.5</span><span class="p">,</span>
<span class="linenos">117</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos">118</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos">119</span><span class="p">}</span>
<span class="linenos">120</span>
<span class="linenos">121</span>
<span class="linenos">122</span><span class="n">speedblock</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">123</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
<span class="linenos">124</span>    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">speed</span><span class="p">,</span>
<span class="linenos">125</span>    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">diameter</span><span class="p">,</span>
<span class="linenos">126</span>    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">wheelrpm2</span><span class="p">,</span>
<span class="linenos">127</span>    <span class="s1">&#39;mirror_x&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">128</span>    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mf">750.0</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]],</span>
<span class="linenos">129</span><span class="p">}</span>
<span class="linenos">130</span>
<span class="linenos">131</span>
<span class="linenos">132</span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">133</span>    <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="n">outputfile</span><span class="p">,</span>
<span class="linenos">134</span>    <span class="s1">&#39;block_params&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">gearing</span><span class="p">,</span> <span class="n">rotation</span><span class="p">,</span> <span class="n">speedblock</span><span class="p">],</span>
<span class="linenos">135</span>    <span class="s1">&#39;transformations&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;scale paper&#39;</span><span class="p">,)],</span>
<span class="linenos">136</span>    <span class="s1">&#39;title_str&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\Large \textbf{Bicycle Cadence Calculator}&#39;</span><span class="p">,</span>
<span class="linenos">137</span>    <span class="s1">&#39;title_x&#39;</span><span class="p">:</span> <span class="mf">3.5</span><span class="p">,</span>
<span class="linenos">138</span>    <span class="s1">&#39;title_y&#39;</span><span class="p">:</span> <span class="mf">3.5</span><span class="p">,</span>
<span class="linenos">139</span>
<span class="linenos">140</span>    <span class="s1">&#39;extra_texts&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">141</span>        <span class="p">{</span>
<span class="linenos">142</span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">143</span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">11.3</span><span class="p">,</span>
<span class="linenos">144</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\large \slshape{Gearing Ratio}&#39;</span><span class="p">,</span>
<span class="linenos">145</span>        <span class="p">},</span>
<span class="linenos">146</span>        <span class="p">{</span>
<span class="linenos">147</span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">7.0</span><span class="p">,</span>
<span class="linenos">148</span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">20.5</span><span class="p">,</span>
<span class="linenos">149</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\large \slshape{Front derailer setting}&#39;</span><span class="p">,</span>
<span class="linenos">150</span>        <span class="p">},</span>
<span class="linenos">151</span>        <span class="p">{</span>
<span class="linenos">152</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\copyright Daniel Boulet (2019-2021)&#39;</span><span class="p">,</span>
<span class="linenos">153</span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>
<span class="linenos">154</span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span>
<span class="linenos">155</span>        <span class="p">},</span>
<span class="linenos">156</span>
<span class="linenos">157</span>
<span class="linenos">158</span>    <span class="p">],</span>
<span class="linenos">159</span>	<span class="c1"># &#39;make_grid&#39;:True,</span>
<span class="linenos">160</span>
<span class="linenos">161</span><span class="p">}</span>
<span class="linenos">162</span>
<span class="linenos">163</span><span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="air-coil-design">
<h2>Air Coil Design<a class="headerlink" href="#air-coil-design" title="Permalink to this headline">¶</a></h2>
<p>Air coil design nomographs come in a range of shapes, sizes and methods of use.  In this exmaple, PyNomo is used to reconstruct part of the single-layer air coil calculator nomograph published in <a class="reference external" href="https://worldradiohistory.com/Archive-Electronics-World/60s/1962/Electronics-World-1962-08.pdf">Electronics World (1962)</a>.</p>
<section id="id30">
<h3>Nomograph<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/air_core_coil.png" src="../_images/air_core_coil.png" />
</section>
<section id="id31">
<h3>Source code<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  2</span><span class="sd">    air_core_coil.py</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="sd">	Nomograph to calculate inductance of single layer air coil.  Design</span>
<span class="linenos">  5</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  6</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos">  7</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos">  8</span><span class="kn">from</span> <span class="nn">pyx</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos">  9</span>
<span class="linenos"> 10</span><span class="n">outputfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;.pdf&quot;</span>
<span class="linenos"> 11</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="linenos"> 12</span><span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">LatexEngine</span><span class="p">)</span>
<span class="linenos"> 13</span>
<span class="linenos"> 14</span><span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="kn">import</span> <span class="n">Nomographer</span>
<span class="linenos"> 15</span>
<span class="linenos"> 16</span><span class="n">length_over_diameter</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 17</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
<span class="linenos"> 18</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos"> 19</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">18.0</span> <span class="o">+</span> <span class="mf">40.0</span> <span class="o">*</span> <span class="n">u</span><span class="p">),</span>
<span class="linenos"> 20</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$\frac</span><span class="si">{Length}{Diameter}</span><span class="s2">$&quot;</span><span class="p">,</span>
<span class="linenos"> 21</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 22</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 23</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.35</span><span class="p">,</span>
<span class="linenos"> 24</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 25</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;log smart&quot;</span><span class="p">,</span>
<span class="linenos"> 26</span><span class="p">}</span>
<span class="linenos"> 27</span>
<span class="linenos"> 28</span><span class="n">number_of_turns</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 29</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
<span class="linenos"> 30</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
<span class="linenos"> 31</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="o">-</span><span class="mf">2.0</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 32</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$Turns$&quot;</span><span class="p">,</span>
<span class="linenos"> 33</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 34</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 35</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 36</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.35</span><span class="p">,</span>
<span class="linenos"> 37</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;log smart&quot;</span><span class="p">,</span>
<span class="linenos"> 38</span><span class="p">}</span>
<span class="linenos"> 39</span>
<span class="linenos"> 40</span><span class="n">inductance</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 41</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
<span class="linenos"> 42</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
<span class="linenos"> 43</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 44</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$\mu H$&quot;</span><span class="p">,</span>
<span class="linenos"> 45</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 46</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 47</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 48</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos"> 49</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.35</span><span class="p">,</span>
<span class="linenos"> 50</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;log smart&quot;</span><span class="p">,</span>
<span class="linenos"> 51</span><span class="p">}</span>
<span class="linenos"> 52</span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span><span class="n">diameter</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 55</span>    <span class="s2">&quot;u_min&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 56</span>    <span class="s2">&quot;u_max&quot;</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span>
<span class="linenos"> 57</span>    <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">u</span><span class="p">),</span>
<span class="linenos"> 58</span>    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;$Diameter$&quot;</span><span class="p">,</span>
<span class="linenos"> 59</span>    <span class="s2">&quot;tick_levels&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="linenos"> 60</span>    <span class="s2">&quot;tick_text_levels&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="linenos"> 61</span>    <span class="s2">&quot;title_x_shift&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 62</span>    <span class="s2">&quot;tick_side&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="linenos"> 63</span>    <span class="s2">&quot;title_y_shift&quot;</span><span class="p">:</span> <span class="mf">0.35</span><span class="p">,</span>
<span class="linenos"> 64</span>    <span class="s2">&quot;scale_type&quot;</span><span class="p">:</span> <span class="s2">&quot;log smart&quot;</span><span class="p">,</span>
<span class="linenos"> 65</span><span class="p">}</span>
<span class="linenos"> 66</span>
<span class="linenos"> 67</span>
<span class="linenos"> 68</span><span class="n">block_1_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 69</span>    <span class="s2">&quot;block_type&quot;</span><span class="p">:</span> <span class="s2">&quot;type_3&quot;</span><span class="p">,</span>
<span class="linenos"> 70</span>    <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mf">40.0</span><span class="p">,</span>
<span class="linenos"> 71</span>    <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mf">40.0</span><span class="p">,</span>
<span class="linenos"> 72</span>    <span class="s2">&quot;f_params&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 73</span>        <span class="n">length_over_diameter</span><span class="p">,</span>
<span class="linenos"> 74</span>        <span class="n">number_of_turns</span><span class="p">,</span>
<span class="linenos"> 75</span>        <span class="n">inductance</span><span class="p">,</span>
<span class="linenos"> 76</span>        <span class="n">diameter</span><span class="p">,</span>
<span class="linenos"> 77</span>    <span class="p">],</span>
<span class="linenos"> 78</span>    <span class="s2">&quot;reference_padding&quot;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
<span class="linenos"> 79</span>    <span class="s2">&quot;reference_titles&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;\Huge$\chi$&quot;</span><span class="p">],</span>
<span class="linenos"> 80</span>    <span class="s2">&quot;isopleth_values&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">]],</span>
<span class="linenos"> 81</span><span class="p">}</span>
<span class="linenos"> 82</span>
<span class="linenos"> 83</span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 84</span>    <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;air_core_coil.pdf&quot;</span><span class="p">,</span>
<span class="linenos"> 85</span>    <span class="s2">&quot;paper_height&quot;</span><span class="p">:</span> <span class="mf">8.5</span> <span class="o">*</span> <span class="mf">2.54</span><span class="p">,</span>
<span class="linenos"> 86</span>    <span class="s2">&quot;paper_width&quot;</span><span class="p">:</span> <span class="mf">11.0</span> <span class="o">*</span> <span class="mf">2.54</span><span class="p">,</span>
<span class="linenos"> 87</span>    <span class="s2">&quot;block_params&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">block_1_params</span><span class="p">],</span>
<span class="linenos"> 88</span>    <span class="s2">&quot;transformations&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;rotate&quot;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;scale paper&quot;</span><span class="p">,)],</span>
<span class="linenos"> 89</span>    <span class="c1"># &quot;title_str&quot;: r&quot;\Huge Single-layer air coil calculator&quot;,</span>
<span class="linenos"> 90</span>    <span class="c1"># &quot;make_grid&quot;: True,</span>
<span class="linenos"> 91</span>    <span class="s2">&quot;title_y&quot;</span><span class="p">:</span> <span class="mf">23.0</span><span class="p">,</span>
<span class="linenos"> 92</span>    <span class="s2">&quot;title_x&quot;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
<span class="linenos"> 93</span>    <span class="s2">&quot;extra_texts&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos"> 94</span>        <span class="p">{</span>
<span class="linenos"> 95</span>            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos"> 96</span>            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">22.0</span><span class="p">,</span>
<span class="linenos"> 97</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\noindent \huge Single-layer air coil calculator \par \normalsize \medskip \noindent Nomograph to calculate inductance of single layer air coil.  Nomograph design adapted from Electronics World magazine, August 1962 (page 55). \par \medskip   \noindent \copyright    Daniel Boulet  2022&quot;</span><span class="p">,</span>
<span class="linenos"> 98</span>            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos"> 99</span>        <span class="p">},</span>
<span class="linenos">100</span>        <span class="p">{</span>
<span class="linenos">101</span>            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">17.0</span><span class="p">,</span>
<span class="linenos">102</span>            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">22.0</span><span class="p">,</span>
<span class="linenos">103</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\noindent This nomograph implements the following formula: \par \medskip \noindent $\mu H = \frac{r^2 \times N^2}{9r + 10l}$ \medskip \par \noindent where $r$ is the radius of the coil (in inches), $N$ is the number of turns, $l$ is the length of the coil (in inches).&quot;</span><span class="p">,</span>
<span class="linenos">104</span>            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mf">12.0</span><span class="p">,</span>
<span class="linenos">105</span>        <span class="p">},</span>
<span class="linenos">106</span>        <span class="p">{</span>
<span class="linenos">107</span>            <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">22.0</span><span class="p">,</span>
<span class="linenos">108</span>            <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">19.0</span><span class="p">,</span>
<span class="linenos">109</span>            <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;\noindent Example shown: \par \noindent To create a 30 $\mu$H coil wound on a 2 inch form requires 40 turns of wire over a length of 4.4 inches (2.2 $\times$ 2 inches).&quot;</span><span class="p">,</span>
<span class="linenos">110</span>            <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mf">7.0</span><span class="p">,</span>
<span class="linenos">111</span>        <span class="p">},</span>
<span class="linenos">112</span>    <span class="p">],</span>
<span class="linenos">113</span><span class="p">}</span>
<span class="linenos">114</span><span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="map-romer">
<h2>Map Romer<a class="headerlink" href="#map-romer" title="Permalink to this headline">¶</a></h2>
<p>Strictly speaking, this not a nomogrpah.  However, this examples uses PyNomo’s axis drawing functions to create a custom <a class="reference external" href="https://en.wikipedia.org/wiki/Romer">map romer</a> to use on printed maps that don’t have a standard scale (i.e. 1:25000).  The only constraint is that the map’s grid must have the same scale vertically and horizontally. Substitue values for actual and printed grids sizes to produce a useful map romer.</p>
<section id="id33">
<h3>Nomograph<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/romer.png" src="../_images/romer.png" />
</section>
<section id="id34">
<h3>Source code<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  2</span><span class="sd">    romer.py</span>
<span class="linenos">  3</span>
<span class="linenos">  4</span><span class="sd">    Nomogram to layout a custom romer for map reading. Scale values</span>
<span class="linenos">  5</span><span class="sd">    GNU General Public License for more details.</span>
<span class="linenos">  6</span>
<span class="linenos">  7</span><span class="sd">    You should have received a copy of the GNU General Public License</span>
<span class="linenos">  8</span><span class="sd">    along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<span class="linenos">  9</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 10</span>
<span class="linenos"> 11</span><span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="kn">import</span> <span class="n">Nomographer</span>
<span class="linenos"> 12</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos"> 13</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="linenos"> 14</span><span class="kn">from</span> <span class="nn">pyx</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 15</span><span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">LatexEngine</span><span class="p">)</span>
<span class="linenos"> 16</span>
<span class="linenos"> 17</span><span class="n">outputfile</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;.pdf&#39;</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span><span class="k">def</span> <span class="nf">deg2rad</span><span class="p">(</span><span class="n">deg</span><span class="p">):</span>
<span class="linenos"> 20</span>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">deg</span> <span class="o">/</span> <span class="mf">180.0</span>
<span class="linenos"> 21</span>
<span class="linenos"> 22</span>
<span class="linenos"> 23</span><span class="c1"># actual grid size in meters</span>
<span class="linenos"> 24</span><span class="c1"># actual_grid_size = float(os.environ[&#39;ACTUAL_GRID_SIZE&#39;])</span>
<span class="linenos"> 25</span><span class="n">actual_grid_size</span> <span class="o">=</span> <span class="mf">1000.0</span>
<span class="linenos"> 26</span>
<span class="linenos"> 27</span><span class="c1"># printed grid size in centimeters</span>
<span class="linenos"> 28</span><span class="c1"># printed_grid_size = float(os.environ[&#39;PRINTED_GRID_SIZE&#39;])</span>
<span class="linenos"> 29</span><span class="n">printed_grid_size</span> <span class="o">=</span> <span class="mf">21.5</span><span class="o">/</span><span class="mf">2.5</span>
<span class="linenos"> 30</span>
<span class="linenos"> 31</span><span class="n">map_scale</span> <span class="o">=</span> <span class="n">actual_grid_size</span> <span class="o">/</span> <span class="p">(</span><span class="n">printed_grid_size</span> <span class="o">/</span> <span class="mf">100.0</span><span class="p">)</span>
<span class="linenos"> 32</span><span class="n">romer_title</span> <span class="o">=</span> <span class="s2">&quot;Map Romer \par Scale: &quot;</span> <span class="o">+</span> \
<span class="linenos"> 33</span>    <span class="s2">&quot;</span><span class="si">{0:.4f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">map_scale</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; to 1&quot;</span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span><span class="n">n_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 36</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos"> 37</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="n">actual_grid_size</span><span class="p">,</span>
<span class="linenos"> 38</span>    <span class="s1">&#39;function_x&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">deg2rad</span><span class="p">(</span><span class="mf">45.0</span><span class="p">)),</span>
<span class="linenos"> 39</span>    <span class="s1">&#39;function_y&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">deg2rad</span><span class="p">(</span><span class="mf">45.0</span><span class="p">)),</span>
<span class="linenos"> 40</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 41</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos"> 42</span>    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
<span class="linenos"> 43</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Northings&#39;</span><span class="p">,</span>
<span class="linenos"> 44</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span><span class="s1">&#39;&#39;</span>
<span class="linenos"> 45</span>    <span class="s1">&#39;title_distance_center&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span>
<span class="linenos"> 46</span>    <span class="s1">&#39;extra_params&#39;</span><span class="p">:</span> <span class="p">[{</span>
<span class="linenos"> 47</span>        <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="n">actual_grid_size</span><span class="o">/</span><span class="mf">10.0</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos"> 48</span>        <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="n">actual_grid_size</span><span class="p">,</span>
<span class="linenos"> 49</span>        <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 50</span>    <span class="p">}],</span>
<span class="linenos"> 51</span>    <span class="s1">&#39;text_distance_0&#39;</span><span class="p">:</span> <span class="mf">0.65</span><span class="p">,</span>
<span class="linenos"> 52</span>    <span class="s1">&#39;text_distance_1&#39;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>
<span class="linenos"> 53</span>    <span class="s1">&#39;text_size_0&#39;</span><span class="p">:</span> <span class="n">text</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">scriptsize</span><span class="p">,</span>
<span class="linenos"> 54</span>    <span class="s1">&#39;text_size_1&#39;</span><span class="p">:</span> <span class="n">text</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">tiny</span><span class="p">,</span>
<span class="linenos"> 55</span>    <span class="s1">&#39;grid_length_0&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 56</span>
<span class="linenos"> 57</span><span class="p">}</span>
<span class="linenos"> 58</span>
<span class="linenos"> 59</span><span class="n">e_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 60</span>    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos"> 61</span>    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="n">actual_grid_size</span><span class="p">,</span>
<span class="linenos"> 62</span>    <span class="s1">&#39;function_x&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">deg2rad</span><span class="p">(</span><span class="mf">135.0</span><span class="p">)),</span>
<span class="linenos"> 63</span>    <span class="s1">&#39;function_y&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">deg2rad</span><span class="p">(</span><span class="mf">135.0</span><span class="p">)),</span>
<span class="linenos"> 64</span>    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<span class="linenos"> 65</span>    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos"> 66</span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Eastings&#39;</span><span class="p">,</span>
<span class="linenos"> 67</span>    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos"> 68</span>    <span class="s1">&#39;title_distance_center&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos"> 69</span>    <span class="s1">&#39;extra_params&#39;</span><span class="p">:</span> <span class="p">[{</span>
<span class="linenos"> 70</span>        <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="n">actual_grid_size</span><span class="o">/</span><span class="mf">10.0</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">,</span>
<span class="linenos"> 71</span>        <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="n">actual_grid_size</span><span class="p">,</span>
<span class="linenos"> 72</span>        <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 73</span>    <span class="p">}],</span>
<span class="linenos"> 74</span>    <span class="s1">&#39;text_distance_0&#39;</span><span class="p">:</span> <span class="mf">0.65</span><span class="p">,</span>
<span class="linenos"> 75</span>    <span class="s1">&#39;text_distance_1&#39;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>
<span class="linenos"> 76</span>    <span class="s1">&#39;grid_length_0&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
<span class="linenos"> 77</span>    <span class="s1">&#39;text_size_0&#39;</span><span class="p">:</span> <span class="n">text</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">scriptsize</span><span class="p">,</span>
<span class="linenos"> 78</span>    <span class="s1">&#39;text_size_1&#39;</span><span class="p">:</span> <span class="n">text</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">tiny</span><span class="p">,</span>
<span class="linenos"> 79</span><span class="p">}</span>
<span class="linenos"> 80</span>
<span class="linenos"> 81</span><span class="n">block_params_n</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 82</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_8&#39;</span><span class="p">,</span>
<span class="linenos"> 83</span>    <span class="s1">&#39;f_params&#39;</span><span class="p">:</span> <span class="n">n_params</span><span class="p">,</span>
<span class="linenos"> 84</span>    <span class="c1"># &#39;width&#39;: printed_grid_size * 100.0 * np.sqrt(2.0),</span>
<span class="linenos"> 85</span>    <span class="c1"># &#39;height&#39;: printed_grid_size * 100.0 * np.sqrt(2.0),</span>
<span class="linenos"> 86</span>    <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
<span class="linenos"> 87</span>    <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="n">printed_grid_size</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">2.0</span><span class="p">),</span>
<span class="linenos"> 88</span><span class="p">}</span>
<span class="linenos"> 89</span>
<span class="linenos"> 90</span><span class="n">block_params_e</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 91</span>    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_8&#39;</span><span class="p">,</span>
<span class="linenos"> 92</span>    <span class="s1">&#39;f_params&#39;</span><span class="p">:</span> <span class="n">e_params</span><span class="p">,</span>
<span class="linenos"> 93</span>    <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
<span class="linenos"> 94</span>    <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="n">printed_grid_size</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">2.0</span><span class="p">),</span>
<span class="linenos"> 95</span><span class="p">}</span>
<span class="linenos"> 96</span>
<span class="linenos"> 97</span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 98</span>    <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="n">outputfile</span><span class="p">,</span>
<span class="linenos"> 99</span>    <span class="c1"># &#39;paper_height&#39;: printed_grid_size / np.sqrt(2.0),</span>
<span class="linenos">100</span>    <span class="c1"># &#39;paper_width&#39;: printed_grid_size * 2.0 / np.sqrt(2.0),</span>
<span class="linenos">101</span>    <span class="s1">&#39;paper_height&#39;</span><span class="p">:</span> <span class="n">printed_grid_size</span><span class="p">,</span>
<span class="linenos">102</span>    <span class="s1">&#39;paper_width&#39;</span><span class="p">:</span> <span class="n">printed_grid_size</span><span class="p">,</span>
<span class="linenos">103</span>    <span class="s1">&#39;block_params&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">block_params_n</span><span class="p">,</span> <span class="n">block_params_e</span><span class="p">],</span>
<span class="linenos">104</span>    <span class="s1">&#39;title_str&#39;</span><span class="p">:</span> <span class="n">romer_title</span><span class="p">,</span>
<span class="linenos">105</span>    <span class="s1">&#39;title_x&#39;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span>
<span class="linenos">106</span>    <span class="s1">&#39;title_y&#39;</span><span class="p">:</span> <span class="mf">6.5</span><span class="p">,</span>
<span class="linenos">107</span>    <span class="s1">&#39;transformations&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span> <span class="mf">44.9</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;scale paper&#39;</span><span class="p">,)],</span>
<span class="linenos">108</span>    <span class="c1"># &#39;make_grid&#39;: True,</span>
<span class="linenos">109</span>    <span class="s1">&#39;draw_lines&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">110</span>    <span class="s1">&#39;line_params&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">111</span>        <span class="p">{</span>
<span class="linenos">112</span>            <span class="s1">&#39;coords&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">113</span>                <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">printed_grid_size</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">printed_grid_size</span><span class="p">,</span>
<span class="linenos">114</span>                                                       <span class="n">printed_grid_size</span> <span class="o">-</span> <span class="mf">1.5</span><span class="p">,</span> <span class="n">printed_grid_size</span><span class="p">],</span>
<span class="linenos">115</span>            <span class="p">],</span>
<span class="linenos">116</span>            <span class="s1">&#39;line_style&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">color</span><span class="o">.</span><span class="n">cmyk</span><span class="o">.</span><span class="n">Black</span><span class="p">,</span> <span class="n">style</span><span class="o">.</span><span class="n">linewidth</span><span class="o">.</span><span class="n">thin</span><span class="p">,</span> <span class="n">style</span><span class="o">.</span><span class="n">linestyle</span><span class="o">.</span><span class="n">dashed</span><span class="p">],</span>
<span class="linenos">117</span>        <span class="p">},</span>
<span class="linenos">118</span>    <span class="p">],</span>
<span class="linenos">119</span>    <span class="s1">&#39;extra_texts&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="linenos">120</span>        <span class="p">{</span>
<span class="linenos">121</span>            <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
<span class="linenos">122</span>            <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
<span class="linenos">123</span>            <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\copyright Daniel Boulet  2020&#39;</span><span class="p">,</span>
<span class="linenos">124</span>            <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">125</span>        <span class="p">},</span>
<span class="linenos">126</span>    <span class="p">],</span>
<span class="linenos">127</span>
<span class="linenos">128</span><span class="p">}</span>
<span class="linenos">129</span>
<span class="linenos">130</span><span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">mynomos</a><ul>
<li><a class="reference internal" href="#search-planner">Search Planner</a><ul>
<li><a class="reference internal" href="#nomograph">Nomograph</a></li>
<li><a class="reference internal" href="#source-code">Source code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#z-score-calculator">Z score calculator</a><ul>
<li><a class="reference internal" href="#theory-and-background">Theory and background</a></li>
<li><a class="reference internal" href="#id2">Nomograph</a></li>
<li><a class="reference internal" href="#id3">Source code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vps-generator-performance">VPS Generator Performance</a><ul>
<li><a class="reference internal" href="#id4">Nomograph</a></li>
<li><a class="reference internal" href="#id5">Source code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#voltage-divider">Voltage Divider</a><ul>
<li><a class="reference internal" href="#id6">Theory and background</a></li>
<li><a class="reference internal" href="#id9">Nomograph</a></li>
<li><a class="reference internal" href="#id10">Source code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#velocity-factor-calculator">Velocity Factor Calculator</a><ul>
<li><a class="reference internal" href="#id11">Nomograph</a></li>
<li><a class="reference internal" href="#id12">Source code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#true-vswr-calculator">True VSWR Calculator</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#vswr-return-loss-and-cable-attentuation">VSWR, Return Loss and Cable Attentuation</a></li>
<li><a class="reference internal" href="#cable-loss-and-impact-on-vswr">Cable loss and impact on VSWR</a></li>
<li><a class="reference internal" href="#nomograph-construction">Nomograph construction</a></li>
<li><a class="reference internal" href="#generated-nomograph">Generated nomograph</a></li>
<li><a class="reference internal" href="#id17">Source code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#return-loss-calculator">Return Loss Calculator</a><ul>
<li><a class="reference internal" href="#id18">Nomograph</a></li>
<li><a class="reference internal" href="#id19">Source code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#simple-annuity">Simple Annuity</a><ul>
<li><a class="reference internal" href="#id20">Nomograph</a></li>
<li><a class="reference internal" href="#id21">Source code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gasoline-price-compare">Gasoline Price Compare</a><ul>
<li><a class="reference internal" href="#background">Background</a></li>
<li><a class="reference internal" href="#id22">Generated nomograph</a></li>
<li><a class="reference internal" href="#id23">Source code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bicycle-cadence">Bicycle Cadence</a><ul>
<li><a class="reference internal" href="#id24">Theory and background</a></li>
<li><a class="reference internal" href="#id28">Nomograph</a></li>
<li><a class="reference internal" href="#id29">Source code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#air-coil-design">Air Coil Design</a><ul>
<li><a class="reference internal" href="#id30">Nomograph</a></li>
<li><a class="reference internal" href="#id31">Source code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#map-romer">Map Romer</a><ul>
<li><a class="reference internal" href="#id33">Nomograph</a></li>
<li><a class="reference internal" href="#id34">Source code</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../index.html"
                        title="previous chapter">Welcome to djboulet github pages’s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../bibliography/bibliography.html"
                        title="next chapter">Bibliography</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/mynomos/mynomos.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../bibliography/bibliography.html" title="Bibliography"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Welcome to djboulet github pages’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">djboulet github  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">mynomos</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Daniel Boulet.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
    </div>
  </body>
</html>